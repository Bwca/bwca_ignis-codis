<!DOCTYPE html><html lang="en-CA" dir="ltr" data-critters-container><head>
    <meta charset="utf-8">
    <title>Ignis Codis :  Deep Readonly Generic in Typescript</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="logo.png">
  <style>:root{--theme-dark: #1e2019;--theme-dark-secondary: #393e41;--theme-light: #d3d0cb;--theme-accent: #e2c044;--theme-tertiary: #587b7f}button{transition:all .3s;color:var(--theme-accent)}button:hover,button:focus{background-color:var(--theme-accent);color:var(--theme-dark)}button{background-color:var(--theme-dark);border:1px solid var(--theme-accent);padding:.2rem 1rem;font-variant:small-caps;font-size:.9rem}body{font-size:1rem}h1{font-size:2.5rem}button{cursor:pointer}html{font-family:sans-serif,monospace}@media only screen and (max-width: 600px){html{font-size:16px}}@media only screen and (min-width: 600px){html{font-size:18px}}body{background-color:var(--theme-dark);color:var(--theme-light);padding:0;margin:0}*{transform:translateZ(0)}a{color:var(--theme-accent)}a:hover,a:focus{text-decoration:none;background-color:var(--theme-accent);color:var(--theme-dark)}markdown .language-ic-metadata{display:none}code[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}
</style><link rel="stylesheet" href="styles-4SQKIKAV.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles-4SQKIKAV.css"></noscript><style ng-app-id="ng">[_nghost-ng-c3775897885]{display:grid;height:100vh;overflow:hidden;box-sizing:border-box;width:auto;position:relative}@media only screen and (max-width: 600px){[_nghost-ng-c3775897885]{background:linear-gradient(to bottom,var(--theme-dark-secondary),var(--theme-dark) 80px 100%);padding:5px 0 0;grid-template-columns:1fr 1fr;grid-template-rows:auto 1fr auto;grid-template-areas:"logo social" "content content" "nav nav"}[_nghost-ng-c3775897885]   [data-ic-logo][_ngcontent-ng-c3775897885]{margin-left:30px}[_nghost-ng-c3775897885]   [data-ic-social-buttons][_ngcontent-ng-c3775897885]{justify-self:flex-end;margin-right:30px}[_nghost-ng-c3775897885]   main[_ngcontent-ng-c3775897885]{border-width:1px 0 0 0;border-style:solid;padding:10px;border-color:var(--theme-tertiary)}}@media only screen and (min-width: 600px){[_nghost-ng-c3775897885]{background:linear-gradient(to right,var(--theme-dark-secondary),var(--theme-dark) 125px 100%);padding:30px 0 30px 5px;grid-template-columns:100px 1fr;grid-template-rows:auto auto 1fr;grid-gap:20px;grid-template-areas:"logo content" "nav  content" "social content"}[_nghost-ng-c3775897885]   [data-ic-social-buttons][_ngcontent-ng-c3775897885]{justify-self:flex-start;align-self:flex-start}[_nghost-ng-c3775897885]   main[_ngcontent-ng-c3775897885]{border-width:0 0 0 1px;border-style:solid;border-color:var(--theme-tertiary)}}[data-ic-logo][_ngcontent-ng-c3775897885]{grid-area:logo}[data-ic-social-buttons][_ngcontent-ng-c3775897885]{grid-area:social;align-self:center}[data-ic-navigation][_ngcontent-ng-c3775897885]{grid-area:nav}main[_ngcontent-ng-c3775897885]{grid-area:content}main[_ngcontent-ng-c3775897885]   section[_ngcontent-ng-c3775897885]{max-width:800px}main[_ngcontent-ng-c3775897885]{overflow:auto;box-sizing:border-box;padding:30px;scrollbar-width:thin;scrollbar-color:var(--theme-light) var(--theme-tertiary)}</style><style ng-app-id="ng">[_nghost-ng-c1712305223]{display:flex}a[_ngcontent-ng-c1712305223]{display:block}a[_ngcontent-ng-c1712305223]:hover, a[_ngcontent-ng-c1712305223]:focus{background-color:transparent}img[_ngcontent-ng-c1712305223]{display:block;width:100%}@media only screen and (max-width: 600px){img[_ngcontent-ng-c1712305223]{max-width:55px}}@media only screen and (min-width: 600px){img[_ngcontent-ng-c1712305223]{max-width:150px}}</style><style ng-app-id="ng">a[_ngcontent-ng-c3947245871]{transition:all .3s;color:var(--theme-accent)}a[_ngcontent-ng-c3947245871]   [data-ic-icon][_ngcontent-ng-c3947245871]{--background-color: var(--theme-accent);padding:0}a[_ngcontent-ng-c3947245871]:hover, a[_ngcontent-ng-c3947245871]:focus{background-color:var(--theme-accent);color:var(--theme-dark)}a[_ngcontent-ng-c3947245871]:hover   [data-ic-icon][_ngcontent-ng-c3947245871], a[_ngcontent-ng-c3947245871]:focus   [data-ic-icon][_ngcontent-ng-c3947245871]{--background-color: var(--theme-dark)}a.active[_ngcontent-ng-c3947245871]{background-color:var(--theme-dark-secondary);cursor:unset;color:var(--theme-light)}a.active[_ngcontent-ng-c3947245871]   [data-ic-icon][_ngcontent-ng-c3947245871]{--background-color: var(--theme-light)}[_nghost-ng-c3947245871]{display:flex;align-items:center;justify-content:flex-end;width:100%}@media only screen and (min-width: 600px){[_nghost-ng-c3947245871]{justify-content:space-evenly}}a[_ngcontent-ng-c3947245871]{transition:all .3s;display:flex;border-radius:5px}a[_ngcontent-ng-c3947245871]{margin:10px}[data-ic-icon][_ngcontent-ng-c3947245871]{--font-size: 1.5rem}</style><style ng-app-id="ng">a[_ngcontent-ng-c632272801]{transition:all .3s;color:var(--theme-accent)}a[_ngcontent-ng-c632272801]   [data-ic-icon][_ngcontent-ng-c632272801]{--background-color: var(--theme-accent);padding:0}a[_ngcontent-ng-c632272801]:hover, a[_ngcontent-ng-c632272801]:focus{background-color:var(--theme-accent);color:var(--theme-dark)}a[_ngcontent-ng-c632272801]:hover   [data-ic-icon][_ngcontent-ng-c632272801], a[_ngcontent-ng-c632272801]:focus   [data-ic-icon][_ngcontent-ng-c632272801]{--background-color: var(--theme-dark)}a.active[_ngcontent-ng-c632272801]{background-color:var(--theme-dark-secondary);cursor:unset;color:var(--theme-light)}a.active[_ngcontent-ng-c632272801]   [data-ic-icon][_ngcontent-ng-c632272801]{--background-color: var(--theme-light)}[_nghost-ng-c632272801]{display:flex}@media only screen and (max-width: 600px){[_nghost-ng-c632272801]{flex-direction:row}[_nghost-ng-c632272801]   a[_ngcontent-ng-c632272801]{text-align:center;flex-grow:1}[_nghost-ng-c632272801]   .title[_ngcontent-ng-c632272801]{display:none}[_nghost-ng-c632272801]   [data-ic-icon][_ngcontent-ng-c632272801]{--font-size: 1.2rem}}@media only screen and (min-width: 600px){[_nghost-ng-c632272801]{flex-direction:column}[_nghost-ng-c632272801]   a[_ngcontent-ng-c632272801]{text-align:left}[_nghost-ng-c632272801]   [data-ic-icon][_ngcontent-ng-c632272801]{display:none}}a[_ngcontent-ng-c632272801]{background-color:var(--theme-dark);display:block;border:1px solid var(--theme-tertiary);box-sizing:border-box;padding:5px 15px;cursor:pointer;transition:all .3s;font-variant:small-caps;font-size:.9rem;text-decoration:none}</style><style ng-app-id="ng">[_nghost-ng-c1206199484]{--background-color: var(--theme-accent);--font-size: 1rem;display:contents}span[_ngcontent-ng-c1206199484]{background-color:var(--background-color);width:var(--font-size);height:var(--font-size)}a[_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a   [_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484]{background-color:var(--background-color)}a:hover[_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a:hover   [_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a:active[_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a:active   [_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484]{background-color:var(--background-color)}a.active[_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a.active   [_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484]{background-color:var(--background-color)}</style><style ng-app-id="ng">.details[_ngcontent-ng-c1870341192]{margin-top:20px;font-size:.7rem;scrollbar-width:thin}.details[_ngcontent-ng-c1870341192]   .summary[_ngcontent-ng-c1870341192]{cursor:pointer;font-variant:small-caps}.article-metadata[_ngcontent-ng-c1870341192]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;flex-wrap:wrap}.article-metadata[_ngcontent-ng-c1870341192] > *[_ngcontent-ng-c1870341192]{padding:10px 0 0}@media only screen and (min-width: 600px){.article-metadata[_ngcontent-ng-c1870341192]{flex-direction:row}}</style><link rel="https://dev.to/bwca/deep-readonly-generic-in-typescript-4b04"></head>
  <body><!--nghm-->
    <div data-ic-root _nghost-ng-c3775897885 class="ng-tns-c3775897885-0" ng-version="18.0.3" ngh="6" ng-server-context="ssg"><header _ngcontent-ng-c3775897885 data-ic-logo class="ng-tns-c3775897885-0 ng-trigger ng-trigger-slideInFromTop" _nghost-ng-c1712305223 ngh="0"><a _ngcontent-ng-c1712305223 href="/home"><img _ngcontent-ng-c1712305223 src="./logo.png" alt="logo, depicting a ginger cat in a box"></a></header><nav _ngcontent-ng-c3775897885 data-ic-social-buttons class="ng-tns-c3775897885-0 ng-trigger ng-trigger-slideInFromBottom" _nghost-ng-c3947245871 ngh="0"><a _ngcontent-ng-c3947245871 target="_blank" href="https://github.com/Bwca" title="GitHub"><span _ngcontent-ng-c3947245871 data-ic-icon iconname="github" _nghost-ng-c1206199484 ngh="0"><span _ngcontent-ng-c1206199484 style="mask: url(icons/solid/github.svg) no-repeat center; display: inline-block; mask-size: 100%;"></span></span></a><a _ngcontent-ng-c3947245871 target="_blank" href="https://www.linkedin.com/in/volodymyr-yepishev" title="LinkedIn"><span _ngcontent-ng-c3947245871 data-ic-icon iconname="linkedin" _nghost-ng-c1206199484 ngh="0"><span _ngcontent-ng-c1206199484 style="mask: url(icons/solid/linkedin.svg) no-repeat center; display: inline-block; mask-size: 100%;"></span></span></a></nav><nav _ngcontent-ng-c3775897885 data-ic-navigation class="ng-tns-c3775897885-0 ng-trigger ng-trigger-slideInFromLeft" _nghost-ng-c632272801 ngh="1"><!----><a _ngcontent-ng-c632272801 routerlinkactive="active" title="home" href="/home" class="ng-star-inserted" style><span _ngcontent-ng-c632272801 data-ic-icon _nghost-ng-c1206199484 ngh="0"><span _ngcontent-ng-c1206199484 style="mask: url(icons/solid/home.svg) no-repeat center; display: inline-block; mask-size: 100%;"></span></span><span _ngcontent-ng-c632272801 class="title">home</span></a><!----><!----><a _ngcontent-ng-c632272801 routerlinkactive="active" title="articles" href="/dev-articles" class="ng-star-inserted" style><span _ngcontent-ng-c632272801 data-ic-icon _nghost-ng-c1206199484 ngh="0"><span _ngcontent-ng-c1206199484 style="mask: url(icons/solid/book.svg) no-repeat center; display: inline-block; mask-size: 100%;"></span></span><span _ngcontent-ng-c632272801 class="title">articles</span></a><!----><!----></nav><main _ngcontent-ng-c3775897885 class="ng-tns-c3775897885-0 ng-trigger ng-trigger-slideInFromRight"><section _ngcontent-ng-c3775897885 class="ng-tns-c3775897885-0 ng-trigger ng-trigger-routeAnimations"><router-outlet _ngcontent-ng-c3775897885 class="ng-tns-c3775897885-0"></router-outlet><div _nghost-ng-c1870341192 data-ic-article-view class="ng-star-inserted" style ngh="5"><div _ngcontent-ng-c1870341192 data-ic-breadcrumbs _nghost-ng-c1373225446 class="ng-star-inserted" ngh="2"><div _ngcontent-ng-c1373225446><span _ngcontent-ng-c1373225446 class="ng-star-inserted"> / <a _ngcontent-ng-c1373225446 href="/dev-articles">Articles</a> /  Deep Readonly Generic in Typescript </span><!----><!----><!----><!----></div></div><!----><section _ngcontent-ng-c1870341192 class="article-metadata"><section _ngcontent-ng-c1870341192 data-ic-accordion class="details ng-tns-c2942593920-1 ng-star-inserted" _nghost-ng-c2942593920 ngh="3"><button _ngcontent-ng-c2942593920 class="ng-tns-c2942593920-1"><span _ngcontent-ng-c1870341192 ngprojectas="summary" class="summary ng-tns-c2942593920-1">article metadata</span></button><br _ngcontent-ng-c2942593920 class="ng-tns-c2942593920-1"><!----></section><!----></section><section _ngcontent-ng-c1870341192 data-ic-markdown _nghost-ng-c1847889374 ngh="4"><markdown _ngcontent-ng-c1847889374 clipboard ngh="0"><pre><code class="language-ic-metadata">{
  "name": "Deep Readonly Generic in Typescript",
  "series": null,
  "date": "2023-09-16",
  "lastModifiedDate": "2024-06-26",
  "author": "Volodymyr Yepishev",
  "tags": ["typescript", "tutorial"],
  "canonicalLink": "https://dev.to/bwca/deep-readonly-generic-in-typescript-4b04"
}
</code></pre>
<h1>Deep Readonly Generic in Typescript</h1>
<p>TL/DR: the best way is found <a href="https://dev.to/grief/comment/2calg">here</a>, which is:</p>
<pre><code class="language-typescript">type DeepReadonly&lt;T&gt; = {
  readonly [K in keyof T]: DeepReadonly&lt;T[K]&gt;;
};
</code></pre>
<p>The image is how NightCafe sees <em>deep readonly type</em>.
The link to the playground for this article is down below.</p>
<p>Immutability could be useful for certain cases when building applications, and today we will take a look how to enforce immutability using Typescript.</p>
<p>Normally to get an immutable object, it would need to be frozen with the appropriate JavaScript function, but that would only freeze a single nesting level of it and would not affect anything nested inside, whether in its objects inside properties or arrays of objects.</p>
<p>A possible solution would be to iterate over all properties recursively, freezing all objects and repeating the process for any nested arrays of objects.</p>
<p>However, Typescript provides means that can potentially eliminate this need if used wisely.</p>
<p>Suppose we have the following interfaces representing a family:</p>
<pre><code class="language-typescript">interface Person {
  firstName: string;
  lastName: string;
  age: number;
  children?: Person[];
}

interface Family {
  parents: Person[];
  grandparents?: {
    paternal: Person[];
    maternal: Person[];
  };
}
</code></pre>
<p>And a corresponding variable representing the family instance:</p>
<pre><code class="language-typescript">const family: Family = {
  parents: [
    { firstName: "John", lastName: "Doe", age: 40 },
    { firstName: "Jane", lastName: "Doe", age: 38 },
  ],
  grandparents: {
    paternal: [
      { firstName: "PaternalGrandfather", lastName: "Doe", age: 70 },
      { firstName: "PaternalGrandmother", lastName: "Doe", age: 68 },
    ],
    maternal: [
      { firstName: "MaternalGrandfather", lastName: "Smith", age: 75 },
      { firstName: "MaternalGrandmother", lastName: "Smith", age: 72 },
    ],
  }
};
</code></pre>
<p>In order to provide means of immutability, we could write a generic, which recursively traverses and interface field and marks everything it encounters as <code>Readonly</code>, essentially mimicking the freezing, but eliminating the fuss of the actual deep freeze.</p>
<pre><code class="language-typescript">type DeepReadonly&lt;T&gt; = Readonly&lt;{
  [K in keyof T]: 
    // Is it a primitive? Then make it readonly
    T[K] extends (number | string | symbol) ? Readonly&lt;T[K]&gt; 
    // Is it an array of items? Then make the array readonly and the item as well
    : T[K] extends Array&lt;infer A&gt; ? Readonly&lt;Array&lt;DeepReadonly&lt;A&gt;&gt;&gt; 
    // It is some other object, make it readonly as well
    : DeepReadonly&lt;T[K]&gt;;
}&gt;
</code></pre>
<p>There, now we can create objects, which can be real constants:</p>
<pre><code class="language-typescript">const family2: DeepReadonly&lt;Family&gt; = {
  parents: [
    { firstName: "John", lastName: "Doe", age: 40 },
    { firstName: "Jane", lastName: "Doe", age: 38 },
  ],
  grandparents: {
    paternal: [
      { firstName: "PaternalGrandfather", lastName: "Doe", age: 70 },
      { firstName: "PaternalGrandmother", lastName: "Doe", age: 68 },
    ],
    maternal: [
      { firstName: "MaternalGrandfather", lastName: "Smith", age: 75 },
      { firstName: "MaternalGrandmother", lastName: "Smith", age: 72 },
    ],
  }
};
</code></pre>
<p>Any changes to the object typed with the generic are going to be stopped by the compiler:</p>
<pre><code class="language-typescript">family.parents = []; // ok
family2.parents = []; // error

family.parents[0].age = 1; // ok
family2.parents[0].age = 1; // error

// ok
family.parents.push({
  age: 40,
  firstName: 'Joseph',
  lastName: 'Doe'
});

// error
family2.parents.push({
  age: 40,
  firstName: 'Joseph',
  lastName: 'Doe'
});
</code></pre>
<p>All benefits from <code>Object.freeze</code> without a single freeze, cool, eh? At this point you are probably wondering how to shoot yourself in the foot with it, there should be a way.</p>
<p>And there is a way indeed, shooting in the foot is possible using reference types:</p>
<pre><code class="language-typescript">const family3: DeepReadonly&lt;Family&gt; = family;
</code></pre>
<p>As you remember, <code>family</code> is just <code>Family</code>, so any changes to it would mutate <code>family3</code>, even though it is deep readonly.</p>
<p>This is the way things are.</p>
<p>Hope you enjoyed the article as much as I did while researching this :)</p>
<p>The <a href="https://www.typescriptlang.org/play#code/JYOwLgpgTgZghgYwgAgArQM4HsTIN4BQyyMwUGYAcnALYQBcyFUoA5gNxHIA2cF1dRszadicVg2QgArjQBG0UcgQALYNwAmUCCAD8jdORwBtALqcAvgQKhIsRCgBitdQE98XAA5xt4DAcwTcy5WKDgQDW9fMAx9D2JibzsQOG4AoxAzJWIaOGTU9OxM4OILS2sEHAoSF25XRmcaN2QAXnjkKJ0YxmMuYjwSMn5aSQAiACksFRBRgBoePioRxlGAESwIOeRxSQAWAAZkC1m+-EHyJcFkCfDN+d5hq7WNrZ3GAGYADiOT4lNf5ChcKRHxdfztRJ5aApNLIXoJBIDUgXARjVBQqAwgDiYQi8DAKmgWwelzG6zu2wkjAA7Idjqd+udHmiMdjcRoaFgCUT7otUStya8qcgAGzfekI-6nXL5WHwhFnZHMlYAWVZqRxwPxhKgxL5y2uAGUmgShZJqQBWH4MxVDUmq9XcTURTnc3W85VGk0qM00gBM1slAKsZWsYFcnhQqwgEE8ACUIHANDg6gAeAAqAD5WsgE0mU65U4RiMYANLIUDIADWEFcWBgyHTpkYpwA9K3kABJDAVsDbDosE3AABuEF0jcJuFyNd7yG0+ZAdVO6bLpmQEAAHpAIj2ABQyeTQZAAHyYYBYIFYJ6YrnkWG4AEpkOO88nF4WV6XTNm2x3u7Pwm2KAwncetewgGhYgnHRkGnFBuSAkC50TN86m2CJkAQ4BIBobYewAdwgbhuFORhPzXTdtw0HsAEFgLgQtQBgI8aOzF8UILVM6JA1No1jV9ONYzMfwRdsuz7YAe2wOhkC5HVZLkAArCAEDAeY4NnedUPcPhkEI4jSOQPj4w498M1XTNLEzCoqj7eAmjqP1GGMgSzMaNxszaYsOlBPwelOJE7X5a5JmmPVPWeCk3mQA5A0RJl7RC25wsSyLfWQL44qlYggQiTo-IhHzZX8hVbRRA1RnRWVnQ0bUeQWCLBXmaLaTihFAvKp4quhDV2VdHUUuCtLmuFMU2uQbKEhlHq5RtDqIrVar2Tq90GtS41sJ9EbzStCUFXm1LFpmmr+vqkkho201tv9cbJpDTgCHstwADp8piHMsmQMSsCrR7alcP1Xt8962k+sToCgLAoGsJ66iB6IMGMfZTGenYcwARnYL6Ox+v6HIB+GwSRlG0baTHsfXYCoesb7fth1xCb8V7pAwFRd286KDgBJVEoAckmDBYxUXmAXOg1efJXmCAsB8HvBqnofpwG3owZnWfZrhOf2bmgvFgWhZFrgxauCWNilmWHsqEBqnp95nJjEyFzTdy6k8mp8fYIA">playground</a>.</p>
<p>P.S. if someone knows how to pull this trick with generics in JSDoc.
P.P.S. <a href="https://www.typescriptlang.org/play?filetype=js#code/PQKhCgAIUgBAXAngBwKYBNUDNIAVUBOAzgPYB2UMsyBJaBSkA3kfAQJZkDmAvpFu2LwAcgEMAtqkpwadQoxZtOvSABtRrMZOnVa9BWQCu4gEaE+orlOgy98xM3zFyAbQC6fFwGMAFu1XoBKhkbpTA4OCgEDYIKBjYkABiEv6IOrL6DkxOpGTufMiiQWTwROl2DFlM0pCQhfCEZKKqAFx4hLnuNZDiog0ETa3tznmhNjx8XASiZOiFxaVhEVFwSGjMyeKpfCDhXuSs-CmqDgC8zFB1RcGlbS6XtUz8gpoSqG0ARABSJD5kHwAaNQaERvT4AERIqEBkEs70gABYAAyQHgAh7MZ5CLTw74zaFA9SvSQQqEwuFtADMAA5Uejam56ZApjM5tcSkQ2tVarV6o1mncMY8scTcbg+vzVABxaazLB9HyEGFE0EkyAfSEE2FWNoAdhRaKFmIE2LB6vF-UGMtZ4hI8EVBGVIJxpK1FMgADZaYaeZBGRjepaBZB7r7hSbRZ8ALISgbNa1yhVKwnOs0fADKW3t5J1kF1AFY6UanhHVbiY0HpbL0Lb7cngZH1Zn2Nmge7dQAmIu+-21HjgHgAbmWYB0DXEyHUDUgABUx3FMDgmAAlVCidDkE4AHm5MFqLgA0pBOJAANaoRAkHAztxtbq1GeHtyQVAADwasyIkAAFEZTIRIAAH0gVgOG4ICQMQUwSFUABKe8eQAfkgVd103RAt0fA83AAPkgBDajaLDnzfD90C-ABBAhpgwzgsAAiicIIpCULXDcyG3KiaK3cFUFQZBUPYzicJE-CbDDHk2l4-jBPQzCnyY8YcL4aSBLY9ClkiMBVjiZhVNkjiMM2VJlOgPYDngI4thOLtzm5K4Fk5EMMRLF4y0+H4-idRsNTJNtc2RbseVc001TxMgtRVF11U1HN4RpILe2Zat5huJz7N5WNBkFCSQp8i1JQTdB5TrR0Ux82L-PhfUgt9PL3PNLL42rWsHW8hrfLdXMvVqv0mVqQNJRysN6uij4K0K6sSra8qOubVttWqwsfRGkUOomuMqxtO0ZobOasx8OK9S7FaGSZfshwieVrMQAA6VKOUgc53EHSBgGASASFPcBrtSDt7vZUonpDNxXvel9qJIAgruOO6HtKFwkTcW64WBgBGMGPq+n7Yf++GiER5HUfODG3o+whaGhyIse+36TgBxz7sMIgfG-ez3WRJlS2igByH4iH4nweaZKKzR5zUeYHWDh2piHKZxm68cBogmZZtnLg5pEubc3n+cF4XLlFtVxahSWeGlkcqDWVA9L4tS0MMrdjJOUzdnAfYyEOOnEEpYHvcHIA">JSDoc conversion</a> by <a href="https://dev.to/artxe2">@artxe2</a> so I don't lose it.</p>
</markdown><!----></section></div><!----></section></main></div>
  <link rel="modulepreload" href="chunk-76TOWMZK.js"><script src="polyfills-UD7OJCHV.js" type="module"></script><script src="scripts-MI2AUGIN.js" defer></script><script src="main-66OU5UQS.js" type="module"></script>

<script id="ng-state" type="application/json">{"341425767":{"b":[{"metadata":{"name":"Create a Custom eslint Rule with Typescript","series":null,"date":"2021-04-02","lastModifiedDate":"2021-07-11","author":"Volodymyr Yepishev","tags":["typescript","tutorial","eslint","npm"],"canonicalLink":"https://dev.to/bwca/create-a-custom-eslint-rule-with-typescript-4j3d"},"path":"2021-04-02-create-a-custom-eslint-rule-with-typescript.md"},{"metadata":{"name":"Create Object Property String Path Generator with Typescript","series":null,"date":"2021-04-13","lastModifiedDate":"2021-04-13","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular","react"],"canonicalLink":"https://dev.to/bwca/create-object-property-string-path-generator-with-typescript-13e3"},"path":"2021-04-13-create-object-property-string-path-generator-with-typescript/2021-04-13-create-object-property-string-path-generator-with-typescript.md"},{"metadata":{"name":"Build Entity-Friendly react-router Paths Generator with Typescript","series":null,"date":"2021-05-12","lastModifiedDate":"2021-05-12","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/build-entity-friendly-react-router-paths-generator-with-typescript-fpd"},"path":"2021-05-12-build-entity-friendly-react-router-path-generator-with-typescript.md"},{"metadata":{"name":"Split Collection Based on Enum Value with Typescript","series":null,"date":"2021-06-28","lastModifiedDate":"2021-06-28","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/split-collection-based-on-enum-value-with-typescript-4g3b"},"path":"2021-06-28-split-collection-based-on-enum-values/2021-06-28-split-collection-based-on-enum-values.md"},{"metadata":{"name":"Make Your Own Linkedin Promoted Posts Blocker","series":null,"date":"2021-07-14","lastModifiedDate":"2021-07-14","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/make-your-own-linkedin-promoted-posts-blocker-fj5"},"path":"2021-07-14-make-you-own-linkedin-promoted-posts-blocker.md"},{"metadata":{"name":"How I Decided to Write React cli and How it Went","series":null,"date":"2021-08-08","lastModifiedDate":"2021-08-08","author":"Volodymyr Yepishev","tags":["angular"],"canonicalLink":"https://dev.to/bwca/how-i-decided-to-write-react-cli-and-how-it-went-4f19"},"path":"2021-08-08-how-i-decided-to-write-react-cli-and-how-it-went/2021-08-08-how-i-decided-to-write-react-cli-and-how-it-went.md"},{"metadata":{"name":"Remove Double Imports with Regular Expression","series":null,"date":"2022-03-29","lastModifiedDate":"2022-03-29","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/remove-double-imports-with-regular-expression-47af"},"path":"2022-03-29-remove-double-imports-with-regular-expression.md"},{"metadata":{"name":"Decorating React Hook with Typescript","series":null,"date":"2022-04-12","lastModifiedDate":"2022-04-12","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/decorating-react-hook-with-typescript-bd9"},"path":"2022-04-12-decorating-react-hook-with-typescript.md"},{"metadata":{"name":"Override Method Return with a Decorator","series":null,"date":"2022-04-22","lastModifiedDate":"2022-04-22","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/override-method-return-with-a-decorator-1bii"},"path":"2022-04-22-change-api-response-with-a-decorator.md"},{"metadata":{"name":"Turn Angular Application into Chrome Extension","series":null,"date":"2022-05-25","lastModifiedDate":"2022-05-25","author":"Volodymyr Yepishev","tags":["angular","tutorial","chrome","extension"],"canonicalLink":"https://dev.to/bwca/turn-angular-application-into-chrome-extension-2mkn"},"path":"2022-05-25-turn-angular-application-into-chrome-extension.md"},{"metadata":{"name":"Typed Dates Conversion with Typescript","series":null,"date":"2022-06-30","lastModifiedDate":"2022-06-30","author":"Volodymyr Yepishev","tags":["typescript","tutorial","generics","conversion","date","moment"],"canonicalLink":"https://dev.to/bwca/typed-dates-conversion-with-typescript-49n7"},"path":"2022-06-30-typed-date-conversion-with-typescript.md"},{"metadata":{"name":"Weekday - Date - Month type","series":null,"date":"2022-07-29","lastModifiedDate":"2022-07-29","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/weekday-date-month-type-26j4"},"path":"2022-07-29-week-day-date-month-type.md"},{"metadata":{"name":"An Alternative Way of Creating Enumerations in Typescript","series":null,"date":"2022-08-03","lastModifiedDate":"2022-08-03","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/an-alternative-way-of-creating-enumerations-in-typescript-579k"},"path":"2022-08-03-an-alternative-way-of-creating-enumerations-in-typescript.md"},{"metadata":{"name":"Create a Static Class in Typescript","series":null,"date":"2022-08-12","lastModifiedDate":"2022-08-12","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/create-a-static-class-in-typescript-5ao1"},"path":"2022-08-12-create-static-class-in-typescript.md"},{"metadata":{"name":"Typescript Class Mixins","series":null,"date":"2022-08-20","lastModifiedDate":"2022-08-20","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/typescript-class-mixins-3hib"},"path":"2022-08-20-typescript-class-mixins.md"},{"metadata":{"name":"Using Classes Inside React's Functional Components","series":null,"date":"2022-08-22","lastModifiedDate":"2022-08-22","author":"Volodymyr Yepishev","tags":["typescript","react","tutorial"],"canonicalLink":"https://dev.to/bwca/using-classes-inside-reacts-functional-components-oj3"},"path":"2022-08-22-using-classes-inside-react-functional-component.md"},{"metadata":{"name":"Debouncing Component Methods in Angular","series":null,"date":"2022-08-29","lastModifiedDate":"2022-08-29","author":"Volodymyr Yepishev","tags":["typescript","angular","tutorial"],"canonicalLink":"https://dev.to/bwca/debouncing-component-methods-in-angular-34im"},"path":"2022-08-29-debouncing-component-methods-in-angular.md"},{"metadata":{"name":"A Trick to Further Breaking Down Angular Components","series":null,"date":"2022-09-02","lastModifiedDate":"2022-09-02","author":"Volodymyr Yepishev","tags":["typescript","angular"],"canonicalLink":"https://dev.to/bwca/a-trick-to-further-breaking-down-angular-components-1i8a"},"path":"2022-09-02-a-trick-to-further-breaking-angular-components.md"},{"metadata":{"name":"Typed Enum Flipping in Typescript","series":null,"date":"2022-11-09","lastModifiedDate":"2022-11-09","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/typed-enum-flipping-in-typescript-2ce9"},"path":"2022-11-09-typed-enum-flipping-in-typescript.md"},{"metadata":{"name":"Typed Filtering with Generics in Typescript","series":null,"date":"2022-12-01","lastModifiedDate":"2022-12-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial","generics"],"canonicalLink":"https://dev.to/bwca/typed-filtering-with-generics-in-typescript-204f"},"path":"2022-12-01-typed-filtering-with-generics.md"},{"metadata":{"name":"Template Driving Reactive Form Validation in Angular","series":null,"date":"2023-05-15","lastModifiedDate":"2023-05-15","author":"Volodymyr Yepishev","tags":["angular"],"canonicalLink":"https://dev.to/bwca/template-driving-reactive-form-validation-in-angular-302e"},"path":"2023-05-15-template-driving-reactive-form-validation/2023-05-15-template-driving-reactive-form-validation-in-angular.md"},{"metadata":{"name":"Detect Invalid FormGroup Tree in Angular","series":null,"date":"2023-05-17","lastModifiedDate":"2023-05-17","author":"Volodymyr Yepishev","tags":["angular","debugger"],"canonicalLink":"https://dev.to/bwca/detect-invalid-formgroup-tree-in-angular-1ed"},"path":"2023-05-17-detect-invalid-form-group-tree-in-angular/2023-05-17-detect-invalid-form-group-tree-in-angular.md"},{"metadata":{"name":"Safe Route Param Injection in Angular with a Decorator","series":null,"date":"2023-07-22","lastModifiedDate":"2023-07-28","author":"Volodymyr Yepishev","tags":["angular","tutorial","routing","generics"],"canonicalLink":"https://dev.to/bwca/safe-route-param-injection-in-angular-with-a-decorator-1lk7"},"path":"2023-07-22-safe-route-param-injection-in-angular-with-a-decorator.md"},{"metadata":{"name":"Deep Readonly Generic in Typescript","series":null,"date":"2023-09-16","lastModifiedDate":"2024-06-26","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/deep-readonly-generic-in-typescript-4b04"},"path":"2023-09-16-deep-readonly-generic-in-typescript.md"},{"metadata":{"name":"Typing Object Keys With Enum Values Using Typescript","series":null,"date":"2023-11-01","lastModifiedDate":"2023-11-01","author":"Volodymyr Yepishev","tags":["typescript","generics","tutorial"],"canonicalLink":"https://dev.to/bwca/typing-object-keys-with-enum-values-using-typescript-4k23"},"path":"2023-11-01-typing-object-keys-with-enum-values-using-typescript.md"},{"metadata":{"name":"How to Create Bookmarklets Using External Libraries like React","series":null,"date":"2024-03-13","lastModifiedDate":"2024-03-13","author":"Volodymyr Yepishev","tags":["javascript","tutorial"],"canonicalLink":"https://dev.to/bwca/how-to-create-bookmarklets-using-libraries-like-react-2bhc"},"path":"2024-03-13-how-to-create-bookmarklets-using-external-libraries-like-react/2024-03-13-how-to-create-bookmarklets-using-external-libraries-like-react.md"},{"metadata":{"name":"Annoying Cat Extension","series":null,"date":"2024-03-29","lastModifiedDate":"2024-03-29","author":"Volodymyr Yepishev","tags":["javascript","tutorial"],"canonicalLink":"https://dev.to/bwca/annoying-cat-extension-4eaf"},"path":"2024-03-29-writing-annoying-image-browser-extension/2024-03-29-writing-annoying-image-browser-extension.md"},{"metadata":{"name":"Improving Dynamic Component Loader Typings in Angular Using Inputs","series":null,"date":"2024-04-15","lastModifiedDate":"2024-04-15","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular","generics"],"canonicalLink":"https://dev.to/bwca/improving-dynamic-component-loader-typings-in-angular-using-inputs-obl"},"path":"2024-04-15-improving-dynamic-component-loader-typings-in-angular-using-inputs/2024-04-15-improving-dynamic-component-loader-typings-in-angular-using-inputs.md"},{"metadata":{"name":"Reducing the Boilerplate for Services Utilizing Subjects in Angular","series":null,"date":"2024-05-06","lastModifiedDate":"2024-05-06","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular","rxjs"],"canonicalLink":"https://dev.to/bwca/reducing-the-boilerplate-for-services-utilizing-subjects-in-angular-44fp"},"path":"2024-05-06-reducing-the-boilerplate-for-stateful-services-in-angular/2024-05-06-reducing-the-boilerplate-for-stateful-services-in-angular.md"},{"metadata":{"name":"Crafting a Global State Hook in React","series":null,"date":"2024-05-18","lastModifiedDate":"2024-05-18","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react","state"],"canonicalLink":"https://dev.to/bwca/crafting-a-global-state-hook-in-react-4hb4"},"path":"2024-05-18-crafting-a-global-state-hook-in-react/2024-05-18-crafting-a-global-state-hook-in-react.md"},{"metadata":{"name":"Abstracting State Management in React with Typescript, and its Benefits","series":null,"date":"2024-06-03","lastModifiedDate":"2024-06-03","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular"],"canonicalLink":"https://dev.to/bwca/abstracting-state-management-in-react-with-typescript-and-its-benefits-8mk"},"path":"2024-06-03-abstracting-state-management-in-react-and-its-benefits/2024-06-03-abstracting-state-management-in-react-and-its-benefits.md"},{"metadata":{"name":"Runtime Environment Config in Angular, but without Dependency Injection","series":null,"date":"2024-06-08","lastModifiedDate":"2024-06-08","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular"],"canonicalLink":"https://dev.to/bwca/runtime-environment-config-in-angular-but-without-dependency-injection-kno"},"path":"2024-06-08-runtime-environment-config-in-angular-but-without-dependency-injection/2024-06-08-runtime-environment-config-in-angular-but-without-dependency-injection.md"},{"metadata":{"name":"Create a Debounce Function from Scratch in Typescript","series":{"name":"Implementing Debounce with Typescript","part":0},"date":"2021-08-26","lastModifiedDate":"2022-04-07","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/create-a-debounce-function-from-scratch-in-typescript-560m"},"path":"create-a-debounce-function-from-scratch-in-typescript/2021-08-26-part-0-create-a-debounce-function-from-scratch-in-typescript.md"},{"metadata":{"name":"Polish Types for the New Debounce Function","series":{"name":"Implementing Debounce with Typescript","part":1},"date":"2022-04-06","lastModifiedDate":"2022-04-06","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/polish-types-for-the-new-debounce-function-5e0n"},"path":"create-a-debounce-function-from-scratch-in-typescript/2022-04-06-part-1-polish-types-for-the-new-debounce-function.md"},{"metadata":{"name":"Caching Decorator","series":{"name":"Decorator Memoization","part":0},"date":"2022-06-06","lastModifiedDate":"2024-06-26","author":"Volodymyr Yepishev","tags":["typescript","tutorial","decorators"],"canonicalLink":"https://dev.to/bwca/caching-decorator-52e1"},"path":"decorator-memoization/2022-06-06-part-0-caching-decorator.md"},{"metadata":{"name":"Memoize Decorator","series":{"name":"Decorator Memoization","part":1},"date":"2022-07-12","lastModifiedDate":"2022-07-12","author":"Volodymyr Yepishev","tags":["typescript","tutorial","decorators"],"canonicalLink":"https://dev.to/bwca/memoize-decorator-5aoo"},"path":"decorator-memoization/2022-07-12-part-1-memoize-decorator.md"},{"metadata":{"name":"Implementing React Check Permissions. Part 0: Intro","series":{"name":"Implementing React Check Permissions","part":0},"date":"2021-10-29","lastModifiedDate":"2021-10-30","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/implementing-reach-check-permissions-part-0-intro-1inc"},"path":"impementing-react-check-permission/2021-10-29-part-0-intro.md"},{"metadata":{"name":"Implementing React Check Permissions. Part 1: Check Permissions Function","series":{"name":"Implementing React Check Permissions","part":1},"date":"2021-10-30","lastModifiedDate":"2021-10-30","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/implementing-reach-check-permissions-part-1-check-permissions-function-136l"},"path":"impementing-react-check-permission/2021-10-30-part-1-check-permissions-function.md"},{"metadata":{"name":"Implementing React Check Permissions. Part 2: Check Permissions Hook","series":{"name":"Implementing React Check Permissions","part":2},"date":"2021-11-01","lastModifiedDate":"2021-11-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/implementing-react-check-permissions-the-hook-3m20"},"path":"impementing-react-check-permission/2021-11-01-part-2-use-check-permissions.md"},{"metadata":{"name":"Implementing React Check Permissions. Part 3: with Permissions Component","series":{"name":"Implementing React Check Permissions","part":3},"date":"2021-11-04","lastModifiedDate":"2021-11-04","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/implementing-react-check-permissions-the-component-3gjm"},"path":"impementing-react-check-permission/2021-11-04-part-3-with-permissions-component.md"},{"metadata":{"name":"Iframe Microfrontends: Intro and Setup","series":{"name":"Iframe Microfrontends","part":0},"date":"2022-05-30","lastModifiedDate":"2022-05-30","author":"Volodymyr Yepishev","tags":["typescript","tutorial","microfrontends","react","angular"],"canonicalLink":"https://dev.to/bwca/iframe-microfrontends-intro-and-setup-1g7h"},"path":"implement-iframe-microfrontend/2022-05-30-part-0-intro-and-setup.md"},{"metadata":{"name":"Iframe Microfrontends: Standalone React Application","series":{"name":"Iframe Microfrontends","part":1},"date":"2022-05-31","lastModifiedDate":"2022-05-31","author":"Volodymyr Yepishev","tags":["typescript","tutorial","microfrontends","react","angular"],"canonicalLink":"https://dev.to/bwca/iframe-microfrontends-standalone-react-application-341f"},"path":"implement-iframe-microfrontend/2022-05-31-part-1-standalone-react-application.md"},{"metadata":{"name":"Iframe Microfrontends: Angular Shell","series":{"name":"Iframe Microfrontends","part":2},"date":"2022-05-31","lastModifiedDate":"2022-05-31","author":"Volodymyr Yepishev","tags":["typescript","tutorial","microfrontends","react","angular"],"canonicalLink":"https://dev.to/bwca/iframe-microfrontends-angular-shell-pmj"},"path":"implement-iframe-microfrontend/2022-05-31-part-2-angular-shell-application.md"},{"metadata":{"name":"Iframe Microfrontends: Make React App Proper Iframe","series":{"name":"Iframe Microfrontends","part":3},"date":"2022-06-01","lastModifiedDate":"2022-06-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial","microfrontends","react","angular"],"canonicalLink":"https://dev.to/bwca/iframe-microfrontends-make-react-app-proper-iframe-12g9"},"path":"implement-iframe-microfrontend/2022-06-01-part-3-make-react-app-proper-iframe.md"},{"metadata":{"name":"Create Singleton with ES2022","series":{"name":"Singleton","part":1},"date":"2022-06-25","lastModifiedDate":"2022-07-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial","javascript"],"canonicalLink":"https://dev.to/bwca/create-singleton-with-es2022-51ic"},"path":"singleton/2022-06-25-part-1-create-singleton-with-es2022.md"},{"metadata":{"name":"Singleton Decorator","series":{"name":"Singleton","part":0},"date":"2022-07-01","lastModifiedDate":"2022-07-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/singleton-decorator-526h"},"path":"singleton/2022-07-01-part-0-singleton-decorator.md"}],"h":{},"s":200,"st":"OK","u":"./articles/index.json","rt":"json"},"1182596610":{"b":"```ic-metadata\r\n{\r\n  \"name\": \"Deep Readonly Generic in Typescript\",\r\n  \"series\": null,\r\n  \"date\": \"2023-09-16\",\r\n  \"lastModifiedDate\": \"2024-06-26\",\r\n  \"author\": \"Volodymyr Yepishev\",\r\n  \"tags\": [\"typescript\", \"tutorial\"],\r\n  \"canonicalLink\": \"https://dev.to/bwca/deep-readonly-generic-in-typescript-4b04\"\r\n}\r\n```\r\n\r\n# Deep Readonly Generic in Typescript\r\n\r\nTL/DR: the best way is found [here](https://dev.to/grief/comment/2calg), which is:\r\n```typescript\r\ntype DeepReadonly\u003CT> = {\r\n  readonly [K in keyof T]: DeepReadonly\u003CT[K]>;\r\n};\r\n```\r\n\r\nThe image is how NightCafe sees _deep readonly type_.\r\nThe link to the playground for this article is down below.\r\n\r\nImmutability could be useful for certain cases when building applications, and today we will take a look how to enforce immutability using Typescript.\r\n\r\nNormally to get an immutable object, it would need to be frozen with the appropriate JavaScript function, but that would only freeze a single nesting level of it and would not affect anything nested inside, whether in its objects inside properties or arrays of objects.\r\n\r\nA possible solution would be to iterate over all properties recursively, freezing all objects and repeating the process for any nested arrays of objects.\r\n\r\nHowever, Typescript provides means that can potentially eliminate this need if used wisely.\r\n\r\nSuppose we have the following interfaces representing a family:\r\n```typescript\r\ninterface Person {\r\n  firstName: string;\r\n  lastName: string;\r\n  age: number;\r\n  children?: Person[];\r\n}\r\n\r\ninterface Family {\r\n  parents: Person[];\r\n  grandparents?: {\r\n    paternal: Person[];\r\n    maternal: Person[];\r\n  };\r\n}\r\n```\r\n\r\nAnd a corresponding variable representing the family instance:\r\n\r\n```typescript\r\nconst family: Family = {\r\n  parents: [\r\n    { firstName: \"John\", lastName: \"Doe\", age: 40 },\r\n    { firstName: \"Jane\", lastName: \"Doe\", age: 38 },\r\n  ],\r\n  grandparents: {\r\n    paternal: [\r\n      { firstName: \"PaternalGrandfather\", lastName: \"Doe\", age: 70 },\r\n      { firstName: \"PaternalGrandmother\", lastName: \"Doe\", age: 68 },\r\n    ],\r\n    maternal: [\r\n      { firstName: \"MaternalGrandfather\", lastName: \"Smith\", age: 75 },\r\n      { firstName: \"MaternalGrandmother\", lastName: \"Smith\", age: 72 },\r\n    ],\r\n  }\r\n};\r\n```\r\n\r\nIn order to provide means of immutability, we could write a generic, which recursively traverses and interface field and marks everything it encounters as `Readonly`, essentially mimicking the freezing, but eliminating the fuss of the actual deep freeze.\r\n\r\n```typescript\r\ntype DeepReadonly\u003CT> = Readonly\u003C{\r\n  [K in keyof T]: \r\n    // Is it a primitive? Then make it readonly\r\n    T[K] extends (number | string | symbol) ? Readonly\u003CT[K]> \r\n    // Is it an array of items? Then make the array readonly and the item as well\r\n    : T[K] extends Array\u003Cinfer A> ? Readonly\u003CArray\u003CDeepReadonly\u003CA>>> \r\n    // It is some other object, make it readonly as well\r\n    : DeepReadonly\u003CT[K]>;\r\n}>\r\n```\r\n\r\nThere, now we can create objects, which can be real constants:\r\n\r\n```typescript\r\nconst family2: DeepReadonly\u003CFamily> = {\r\n  parents: [\r\n    { firstName: \"John\", lastName: \"Doe\", age: 40 },\r\n    { firstName: \"Jane\", lastName: \"Doe\", age: 38 },\r\n  ],\r\n  grandparents: {\r\n    paternal: [\r\n      { firstName: \"PaternalGrandfather\", lastName: \"Doe\", age: 70 },\r\n      { firstName: \"PaternalGrandmother\", lastName: \"Doe\", age: 68 },\r\n    ],\r\n    maternal: [\r\n      { firstName: \"MaternalGrandfather\", lastName: \"Smith\", age: 75 },\r\n      { firstName: \"MaternalGrandmother\", lastName: \"Smith\", age: 72 },\r\n    ],\r\n  }\r\n};\r\n```\r\n\r\nAny changes to the object typed with the generic are going to be stopped by the compiler:\r\n\r\n```typescript\r\nfamily.parents = []; // ok\r\nfamily2.parents = []; // error\r\n\r\nfamily.parents[0].age = 1; // ok\r\nfamily2.parents[0].age = 1; // error\r\n\r\n// ok\r\nfamily.parents.push({\r\n  age: 40,\r\n  firstName: 'Joseph',\r\n  lastName: 'Doe'\r\n});\r\n\r\n// error\r\nfamily2.parents.push({\r\n  age: 40,\r\n  firstName: 'Joseph',\r\n  lastName: 'Doe'\r\n});\r\n```\r\n\r\nAll benefits from `Object.freeze` without a single freeze, cool, eh? At this point you are probably wondering how to shoot yourself in the foot with it, there should be a way.\r\n\r\nAnd there is a way indeed, shooting in the foot is possible using reference types:\r\n\r\n```typescript\r\nconst family3: DeepReadonly\u003CFamily> = family;\r\n```\r\n\r\nAs you remember, `family` is just `Family`, so any changes to it would mutate `family3`, even though it is deep readonly.\r\n\r\nThis is the way things are.\r\n\r\nHope you enjoyed the article as much as I did while researching this :)\r\n\r\nThe [playground](https://www.typescriptlang.org/play#code/JYOwLgpgTgZghgYwgAgArQM4HsTIN4BQyyMwUGYAcnALYQBcyFUoA5gNxHIA2cF1dRszadicVg2QgArjQBG0UcgQALYNwAmUCCAD8jdORwBtALqcAvgQKhIsRCgBitdQE98XAA5xt4DAcwTcy5WKDgQDW9fMAx9D2JibzsQOG4AoxAzJWIaOGTU9OxM4OILS2sEHAoSF25XRmcaN2QAXnjkKJ0YxmMuYjwSMn5aSQAiACksFRBRgBoePioRxlGAESwIOeRxSQAWAAZkC1m+-EHyJcFkCfDN+d5hq7WNrZ3GAGYADiOT4lNf5ChcKRHxdfztRJ5aApNLIXoJBIDUgXARjVBQqAwgDiYQi8DAKmgWwelzG6zu2wkjAA7Idjqd+udHmiMdjcRoaFgCUT7otUStya8qcgAGzfekI-6nXL5WHwhFnZHMlYAWVZqRxwPxhKgxL5y2uAGUmgShZJqQBWH4MxVDUmq9XcTURTnc3W85VGk0qM00gBM1slAKsZWsYFcnhQqwgEE8ACUIHANDg6gAeAAqAD5WsgE0mU65U4RiMYANLIUDIADWEFcWBgyHTpkYpwA9K3kABJDAVsDbDosE3AABuEF0jcJuFyNd7yG0+ZAdVO6bLpmQEAAHpAIj2ABQyeTQZAAHyYYBYIFYJ6YrnkWG4AEpkOO88nF4WV6XTNm2x3u7Pwm2KAwncetewgGhYgnHRkGnFBuSAkC50TN86m2CJkAQ4BIBobYewAdwgbhuFORhPzXTdtw0HsAEFgLgQtQBgI8aOzF8UILVM6JA1No1jV9ONYzMfwRdsuz7YAe2wOhkC5HVZLkAArCAEDAeY4NnedUPcPhkEI4jSOQPj4w498M1XTNLEzCoqj7eAmjqP1GGMgSzMaNxszaYsOlBPwelOJE7X5a5JmmPVPWeCk3mQA5A0RJl7RC25wsSyLfWQL44qlYggQiTo-IhHzZX8hVbRRA1RnRWVnQ0bUeQWCLBXmaLaTihFAvKp4quhDV2VdHUUuCtLmuFMU2uQbKEhlHq5RtDqIrVar2Tq90GtS41sJ9EbzStCUFXm1LFpmmr+vqkkho201tv9cbJpDTgCHstwADp8piHMsmQMSsCrR7alcP1Xt8962k+sToCgLAoGsJ66iB6IMGMfZTGenYcwARnYL6Ox+v6HIB+GwSRlG0baTHsfXYCoesb7fth1xCb8V7pAwFRd286KDgBJVEoAckmDBYxUXmAXOg1efJXmCAsB8HvBqnofpwG3owZnWfZrhOf2bmgvFgWhZFrgxauCWNilmWHsqEBqnp95nJjEyFzTdy6k8mp8fYIA).\r\n\r\nP.S. if someone knows how to pull this trick with generics in JSDoc.\r\nP.P.S. [JSDoc conversion](https://www.typescriptlang.org/play?filetype=js#code/PQKhCgAIUgBAXAngBwKYBNUDNIAVUBOAzgPYB2UMsyBJaBSkA3kfAQJZkDmAvpFu2LwAcgEMAtqkpwadQoxZtOvSABtRrMZOnVa9BWQCu4gEaE+orlOgy98xM3zFyAbQC6fFwGMAFu1XoBKhkbpTA4OCgEDYIKBjYkABiEv6IOrL6DkxOpGTufMiiQWTwROl2DFlM0pCQhfCEZKKqAFx4hLnuNZDiog0ETa3tznmhNjx8XASiZOiFxaVhEVFwSGjMyeKpfCDhXuSs-CmqDgC8zFB1RcGlbS6XtUz8gpoSqG0ARABSJD5kHwAaNQaERvT4AERIqEBkEs70gABYAAyQHgAh7MZ5CLTw74zaFA9SvSQQqEwuFtADMAA5Uejam56ZApjM5tcSkQ2tVarV6o1mncMY8scTcbg+vzVABxaazLB9HyEGFE0EkyAfSEE2FWNoAdhRaKFmIE2LB6vF-UGMtZ4hI8EVBGVIJxpK1FMgADZaYaeZBGRjepaBZB7r7hSbRZ8ALISgbNa1yhVKwnOs0fADKW3t5J1kF1AFY6UanhHVbiY0HpbL0Lb7cngZH1Zn2Nmge7dQAmIu+-21HjgHgAbmWYB0DXEyHUDUgABUx3FMDgmAAlVCidDkE4AHm5MFqLgA0pBOJAANaoRAkHAztxtbq1GeHtyQVAADwasyIkAAFEZTIRIAAH0gVgOG4ICQMQUwSFUABKe8eQAfkgVd103RAt0fA83AAPkgBDajaLDnzfD90C-ABBAhpgwzgsAAiicIIpCULXDcyG3KiaK3cFUFQZBUPYzicJE-CbDDHk2l4-jBPQzCnyY8YcL4aSBLY9ClkiMBVjiZhVNkjiMM2VJlOgPYDngI4thOLtzm5K4Fk5EMMRLF4y0+H4-idRsNTJNtc2RbseVc001TxMgtRVF11U1HN4RpILe2Zat5huJz7N5WNBkFCSQp8i1JQTdB5TrR0Ux82L-PhfUgt9PL3PNLL42rWsHW8hrfLdXMvVqv0mVqQNJRysN6uij4K0K6sSra8qOubVttWqwsfRGkUOomuMqxtO0ZobOasx8OK9S7FaGSZfshwieVrMQAA6VKOUgc53EHSBgGASASFPcBrtSDt7vZUonpDNxXvel9qJIAgruOO6HtKFwkTcW64WBgBGMGPq+n7Yf++GiER5HUfODG3o+whaGhyIse+36TgBxz7sMIgfG-ez3WRJlS2igByH4iH4nweaZKKzR5zUeYHWDh2piHKZxm68cBogmZZtnLg5pEubc3n+cF4XLlFtVxahSWeGlkcqDWVA9L4tS0MMrdjJOUzdnAfYyEOOnEEpYHvcHIA) by [@artxe2](https://dev.to/artxe2) so I don't lose it.\r\n","h":{},"s":200,"st":"OK","u":"./articles/2023-09-16-deep-readonly-generic-in-typescript.md","rt":"text"},"__nghData__":[{},{"t":{"1":"t0"},"c":{"1":[{"i":"t0","r":3,"t":{"0":"t1","1":"t2"},"c":{"0":[],"1":[{"i":"t2","r":1}]},"x":2}]}},{"e":{"1":4},"t":{"2":"t4","3":"t5"},"c":{"2":[{"i":"t4","r":2,"e":{"0":1}}],"3":[]}},{"t":{"3":"t6"},"c":{"3":[]}},{"c":{"0":[]}},{"t":{"0":"t3","6":"t7"},"c":{"0":[{"i":"t3","r":1}],"6":[]},"n":{"3":"2f2"},"d":[5]},{"c":{"6":[{"i":"c1870341192","r":1}]}}]}</script></body></html>