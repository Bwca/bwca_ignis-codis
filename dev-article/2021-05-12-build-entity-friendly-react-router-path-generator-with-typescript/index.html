<!DOCTYPE html><html lang="en-CA" dir="ltr" data-critters-container><head>
    <meta charset="utf-8">
    <title>Ignis Codis :  Build Entity-Friendly react-router Paths Generator with Typescript</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="logo.png">
  <style>:root{--theme-dark: #1e2019;--theme-dark-secondary: #393e41;--theme-light: #d3d0cb;--theme-accent: #e2c044;--theme-tertiary: #587b7f}button{transition:all .3s;color:var(--theme-accent)}button:hover,button:focus{background-color:var(--theme-accent);color:var(--theme-dark)}button{background-color:var(--theme-dark);border:1px solid var(--theme-accent);padding:.2rem 1rem;font-variant:small-caps;font-size:.9rem}body{font-size:1rem}h1{font-size:2.5rem}button{cursor:pointer}html{font-family:sans-serif,monospace}@media only screen and (max-width: 600px){html{font-size:16px}}@media only screen and (min-width: 600px){html{font-size:18px}}body{background-color:var(--theme-dark);color:var(--theme-light);padding:0;margin:0}*{transform:translateZ(0)}a{color:var(--theme-accent)}a:hover,a:focus{text-decoration:none;background-color:var(--theme-accent);color:var(--theme-dark)}markdown .language-ic-metadata{display:none}code[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}
</style><link rel="stylesheet" href="styles-4SQKIKAV.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles-4SQKIKAV.css"></noscript><style ng-app-id="ng">[_nghost-ng-c3775897885]{display:grid;height:100vh;overflow:hidden;box-sizing:border-box;width:auto;position:relative}@media only screen and (max-width: 600px){[_nghost-ng-c3775897885]{background:linear-gradient(to bottom,var(--theme-dark-secondary),var(--theme-dark) 80px 100%);padding:5px 0 0;grid-template-columns:1fr 1fr;grid-template-rows:auto 1fr auto;grid-template-areas:"logo social" "content content" "nav nav"}[_nghost-ng-c3775897885]   [data-ic-logo][_ngcontent-ng-c3775897885]{margin-left:30px}[_nghost-ng-c3775897885]   [data-ic-social-buttons][_ngcontent-ng-c3775897885]{justify-self:flex-end;margin-right:30px}[_nghost-ng-c3775897885]   main[_ngcontent-ng-c3775897885]{border-width:1px 0 0 0;border-style:solid;padding:10px;border-color:var(--theme-tertiary)}}@media only screen and (min-width: 600px){[_nghost-ng-c3775897885]{background:linear-gradient(to right,var(--theme-dark-secondary),var(--theme-dark) 125px 100%);padding:30px 0 30px 5px;grid-template-columns:100px 1fr;grid-template-rows:auto auto 1fr;grid-gap:20px;grid-template-areas:"logo content" "nav  content" "social content"}[_nghost-ng-c3775897885]   [data-ic-social-buttons][_ngcontent-ng-c3775897885]{justify-self:flex-start;align-self:flex-start}[_nghost-ng-c3775897885]   main[_ngcontent-ng-c3775897885]{border-width:0 0 0 1px;border-style:solid;border-color:var(--theme-tertiary)}}[data-ic-logo][_ngcontent-ng-c3775897885]{grid-area:logo}[data-ic-social-buttons][_ngcontent-ng-c3775897885]{grid-area:social;align-self:center}[data-ic-navigation][_ngcontent-ng-c3775897885]{grid-area:nav}main[_ngcontent-ng-c3775897885]{grid-area:content}main[_ngcontent-ng-c3775897885]   section[_ngcontent-ng-c3775897885]{max-width:800px}main[_ngcontent-ng-c3775897885]{overflow:auto;box-sizing:border-box;padding:30px;scrollbar-width:thin;scrollbar-color:var(--theme-light) var(--theme-tertiary)}</style><style ng-app-id="ng">[_nghost-ng-c1712305223]{display:flex}a[_ngcontent-ng-c1712305223]{display:block}a[_ngcontent-ng-c1712305223]:hover, a[_ngcontent-ng-c1712305223]:focus{background-color:transparent}img[_ngcontent-ng-c1712305223]{display:block;width:100%}@media only screen and (max-width: 600px){img[_ngcontent-ng-c1712305223]{max-width:55px}}@media only screen and (min-width: 600px){img[_ngcontent-ng-c1712305223]{max-width:150px}}</style><style ng-app-id="ng">a[_ngcontent-ng-c3947245871]{transition:all .3s;color:var(--theme-accent)}a[_ngcontent-ng-c3947245871]   [data-ic-icon][_ngcontent-ng-c3947245871]{--background-color: var(--theme-accent);padding:0}a[_ngcontent-ng-c3947245871]:hover, a[_ngcontent-ng-c3947245871]:focus{background-color:var(--theme-accent);color:var(--theme-dark)}a[_ngcontent-ng-c3947245871]:hover   [data-ic-icon][_ngcontent-ng-c3947245871], a[_ngcontent-ng-c3947245871]:focus   [data-ic-icon][_ngcontent-ng-c3947245871]{--background-color: var(--theme-dark)}a.active[_ngcontent-ng-c3947245871]{background-color:var(--theme-dark-secondary);cursor:unset;color:var(--theme-light)}a.active[_ngcontent-ng-c3947245871]   [data-ic-icon][_ngcontent-ng-c3947245871]{--background-color: var(--theme-light)}[_nghost-ng-c3947245871]{display:flex;align-items:center;justify-content:flex-end;width:100%}@media only screen and (min-width: 600px){[_nghost-ng-c3947245871]{justify-content:space-evenly}}a[_ngcontent-ng-c3947245871]{transition:all .3s;display:flex;border-radius:5px}a[_ngcontent-ng-c3947245871]{margin:10px}[data-ic-icon][_ngcontent-ng-c3947245871]{--font-size: 1.5rem}</style><style ng-app-id="ng">a[_ngcontent-ng-c632272801]{transition:all .3s;color:var(--theme-accent)}a[_ngcontent-ng-c632272801]   [data-ic-icon][_ngcontent-ng-c632272801]{--background-color: var(--theme-accent);padding:0}a[_ngcontent-ng-c632272801]:hover, a[_ngcontent-ng-c632272801]:focus{background-color:var(--theme-accent);color:var(--theme-dark)}a[_ngcontent-ng-c632272801]:hover   [data-ic-icon][_ngcontent-ng-c632272801], a[_ngcontent-ng-c632272801]:focus   [data-ic-icon][_ngcontent-ng-c632272801]{--background-color: var(--theme-dark)}a.active[_ngcontent-ng-c632272801]{background-color:var(--theme-dark-secondary);cursor:unset;color:var(--theme-light)}a.active[_ngcontent-ng-c632272801]   [data-ic-icon][_ngcontent-ng-c632272801]{--background-color: var(--theme-light)}[_nghost-ng-c632272801]{display:flex}@media only screen and (max-width: 600px){[_nghost-ng-c632272801]{flex-direction:row}[_nghost-ng-c632272801]   a[_ngcontent-ng-c632272801]{text-align:center;flex-grow:1}[_nghost-ng-c632272801]   .title[_ngcontent-ng-c632272801]{display:none}[_nghost-ng-c632272801]   [data-ic-icon][_ngcontent-ng-c632272801]{--font-size: 1.2rem}}@media only screen and (min-width: 600px){[_nghost-ng-c632272801]{flex-direction:column}[_nghost-ng-c632272801]   a[_ngcontent-ng-c632272801]{text-align:left}[_nghost-ng-c632272801]   [data-ic-icon][_ngcontent-ng-c632272801]{display:none}}a[_ngcontent-ng-c632272801]{background-color:var(--theme-dark);display:block;border:1px solid var(--theme-tertiary);box-sizing:border-box;padding:5px 15px;cursor:pointer;transition:all .3s;font-variant:small-caps;font-size:.9rem;text-decoration:none}</style><style ng-app-id="ng">[_nghost-ng-c1206199484]{--background-color: var(--theme-accent);--font-size: 1rem;display:contents}span[_ngcontent-ng-c1206199484]{background-color:var(--background-color);width:var(--font-size);height:var(--font-size)}a[_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a   [_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484]{background-color:var(--background-color)}a:hover[_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a:hover   [_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a:active[_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a:active   [_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484]{background-color:var(--background-color)}a.active[_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484], a.active   [_nghost-ng-c1206199484]   span[_ngcontent-ng-c1206199484]{background-color:var(--background-color)}</style><style ng-app-id="ng">.details[_ngcontent-ng-c2428032693]{margin-top:20px;font-size:.7rem;scrollbar-width:thin}.details[_ngcontent-ng-c2428032693]   .summary[_ngcontent-ng-c2428032693]{cursor:pointer;font-variant:small-caps}.article-metadata[_ngcontent-ng-c2428032693]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;flex-wrap:wrap}.article-metadata[_ngcontent-ng-c2428032693] > *[_ngcontent-ng-c2428032693]{padding:10px 0 0}@media only screen and (min-width: 600px){.article-metadata[_ngcontent-ng-c2428032693]{flex-direction:row}}</style><link rel="https://dev.to/bwca/build-entity-friendly-react-router-paths-generator-with-typescript-fpd"></head>
  <body><!--nghm-->
    <div data-ic-root _nghost-ng-c3775897885 class="ng-tns-c3775897885-0" ng-version="18.0.3" ngh="6" ng-server-context="ssg"><header _ngcontent-ng-c3775897885 data-ic-logo class="ng-tns-c3775897885-0 ng-trigger ng-trigger-slideInFromTop" _nghost-ng-c1712305223 ngh="0"><a _ngcontent-ng-c1712305223 href="/home"><img _ngcontent-ng-c1712305223 src="./logo.png" alt="logo, depicting a ginger cat in a box"></a></header><nav _ngcontent-ng-c3775897885 data-ic-social-buttons class="ng-tns-c3775897885-0 ng-trigger ng-trigger-slideInFromBottom" _nghost-ng-c3947245871 ngh="0"><a _ngcontent-ng-c3947245871 target="_blank" href="https://github.com/Bwca" title="GitHub"><span _ngcontent-ng-c3947245871 data-ic-icon iconname="github" _nghost-ng-c1206199484 ngh="0"><span _ngcontent-ng-c1206199484 style="mask: url(icons/solid/github.svg) no-repeat center; display: inline-block; mask-size: 100%;"></span></span></a><a _ngcontent-ng-c3947245871 target="_blank" href="https://www.linkedin.com/in/volodymyr-yepishev" title="LinkedIn"><span _ngcontent-ng-c3947245871 data-ic-icon iconname="linkedin" _nghost-ng-c1206199484 ngh="0"><span _ngcontent-ng-c1206199484 style="mask: url(icons/solid/linkedin.svg) no-repeat center; display: inline-block; mask-size: 100%;"></span></span></a></nav><nav _ngcontent-ng-c3775897885 data-ic-navigation class="ng-tns-c3775897885-0 ng-trigger ng-trigger-slideInFromLeft" _nghost-ng-c632272801 ngh="1"><!----><a _ngcontent-ng-c632272801 routerlinkactive="active" title="home" href="/home" class="ng-star-inserted" style><span _ngcontent-ng-c632272801 data-ic-icon _nghost-ng-c1206199484 ngh="0"><span _ngcontent-ng-c1206199484 style="mask: url(icons/solid/home.svg) no-repeat center; display: inline-block; mask-size: 100%;"></span></span><span _ngcontent-ng-c632272801 class="title">home</span></a><!----><!----><a _ngcontent-ng-c632272801 routerlinkactive="active" title="articles" href="/dev-articles" class="ng-star-inserted" style><span _ngcontent-ng-c632272801 data-ic-icon _nghost-ng-c1206199484 ngh="0"><span _ngcontent-ng-c1206199484 style="mask: url(icons/solid/book.svg) no-repeat center; display: inline-block; mask-size: 100%;"></span></span><span _ngcontent-ng-c632272801 class="title">articles</span></a><!----><!----></nav><main _ngcontent-ng-c3775897885 class="ng-tns-c3775897885-0 ng-trigger ng-trigger-slideInFromRight"><section _ngcontent-ng-c3775897885 class="ng-tns-c3775897885-0 ng-trigger ng-trigger-routeAnimations"><router-outlet _ngcontent-ng-c3775897885 class="ng-tns-c3775897885-0"></router-outlet><div _nghost-ng-c2428032693 data-ic-article-view class="ng-star-inserted" style ngh="5"><div _ngcontent-ng-c2428032693 data-ic-breadcrumbs _nghost-ng-c1373225446 class="ng-star-inserted" ngh="2"><div _ngcontent-ng-c1373225446><span _ngcontent-ng-c1373225446 class="ng-star-inserted"> / <a _ngcontent-ng-c1373225446 href="/dev-articles">Articles</a> /  Build Entity-Friendly react-router Paths Generator with Typescript </span><!----><!----><!----><!----></div></div><!----><!----><!----><section _ngcontent-ng-c2428032693 class="article-metadata"><section _ngcontent-ng-c2428032693 data-ic-accordion class="details ng-tns-c2942593920-1 ng-star-inserted" _nghost-ng-c2942593920 ngh="3"><button _ngcontent-ng-c2942593920 class="ng-tns-c2942593920-1"><span _ngcontent-ng-c2428032693 ngprojectas="summary" class="summary ng-tns-c2942593920-1">article metadata</span></button><br _ngcontent-ng-c2942593920 class="ng-tns-c2942593920-1"><!----></section><!----></section><section _ngcontent-ng-c2428032693 data-ic-markdown _nghost-ng-c1847889374 ngh="4"><markdown _ngcontent-ng-c1847889374 clipboard ngh="0"><pre><code class="language-ic-metadata">{
  "name": "Build Entity-Friendly react-router Paths Generator with Typescript",
  "series": null,
  "date": "2021-05-12",
  "lastModifiedDate": "2021-05-12",
  "author": "Volodymyr Yepishev",
  "tags": ["typescript", "tutorial", "react"],
  "canonicalLink": "https://dev.to/bwca/build-entity-friendly-react-router-paths-generator-with-typescript-fpd"
}
</code></pre>
<h1>Build Entity-Friendly react-router Paths Generator with Typescript</h1>
<p>So the other day I was thinking if it is possible to create a route generator that would be of any use and would respect entities in URLS, i.e. <code>:entity(post|article)</code>.</p>
<p>Naturally, <code>react-router</code> provides means of generating paths, the <code>generatePath</code> function, and while the <code>@types/react-router</code> types package does pretty decent job securing the param names, as of yet, it leaves entities vulnerable, without any kind of restrictions, they are treated same as any other param, meaning you can drop <code>string | number | boolean</code> into them.</p>
<p>Let's fix that with typescript's 4+ template literal types and generics.</p>
<p>First of all let's figure out what types we want to be allowed to be passed to our parameters. We could go with <code>string</code> in <code>string</code> out attitude, since when we extract params they are strings, but for the sake of compatibility and tribute to the original <code>@types/react-router</code> let's go with union <code>string | number | boolean</code>:</p>
<pre><code class="language-ts">type AllowedParamTypes = string | number | boolean;
</code></pre>
<p>That's a nice start. Now, we need a type that would represent our union of values for entities, into which we will be dropping all possible values for our entity and recursively adding them to the union:</p>
<pre><code class="language-ts">type EntityRouteParam&lt;T extends string&gt; =
  /** if we encounter a value with a union */
  T extends `${infer V}|${infer R}`
  /* we grab it and recursively apply the type to the rest */
  ? V | EntityRouteParam&lt;R&gt;
  /** and here we have the last value in the union chain */
  : T;
</code></pre>
<p>Now we need a param type that can be either an entity which is limited to a union of values, or just a regular param, which is simply an allowed type:</p>
<pre><code class="language-ts">type RouteParam&lt;T extends string&gt; =
  /** if we encounter an entity */
  T extends `${infer E}(${infer U})`
  /** we take its values in union */
  ? { [k in E]: EntityRouteParam&lt;U&gt; }
  /** if it's an optional entity */
  : T extends `${infer E}?`
  /** we make its values optional as well */
  ? Partial&lt;{ [k in E]: AllowedParamTypes }&gt;
  /** in case it's merely a param, we let any allowable type */
  : { [k in T]: AllowedParamTypes };
</code></pre>
<p>Now to craft a generic that can break down an url into fragments and extract an interface of params:</p>
<pre><code class="language-ts">type RouteParamCollection&lt;T extends string&gt; =
  /** encounter optional parameter */
  T extends `/:${infer P}?/${infer R}`
  /** pass it to param type and recursively apply current type
   *  to what's left */
  ? Partial&lt;RouteParam&lt;P&gt;&gt; &amp; RouteParamCollection&lt;`/${R}`&gt;
  /** same stuff, but when the param is optional */
  : T extends `/:${infer P}/${infer R}`
  ? RouteParam&lt;P&gt; &amp; RouteParamCollection&lt;`/${R}`&gt;
  /** we encounter static string, not a param at all */
  : T extends `/${infer _}/${infer R}`
  /** apply current type recursively to the rest */
  ? RouteParamCollection&lt;`/${R}`&gt;
  /** last case, when param is in the end of the url */
  : T extends `/:${infer P}`
  ? RouteParam&lt;P&gt;
  /** unknown case, should never happen really */
  : unknown;
</code></pre>
<p>That's basically all the magic we need. Now all that's needed is to create a couple of wrapper functions that would provide us with more type safety and run <code>generatePath</code> from <code>react-router</code> inside under their hoods.</p>
<p>A function for path generation with param and entity hints is pretty simple and you can even use enums with it:</p>
<pre><code class="language-ts">function routeBuilder&lt;K extends string&gt;(route: K, routeParams: RouteParamCollection&lt;K&gt;): string {
  return generatePath(route, routeParams as any)
}
routeBuilder('/user/:userId/:item(post|article)/', { item: 'article', userId: 2 });
// ^ will get angry if 'item' receives something else than 'post' or 'article'
</code></pre>
<p>Now we can come up with even more advanced function that could generate route fragments of even longer route, and provide same type safety.</p>
<p>In order to craft such function we first need to make a couple of types for crafting path fragments of a given route, respecting the params in it:</p>
<pre><code class="language-ts">type RouteFragment&lt;T extends string, Prefix extends string = "/"&gt; = T extends `${Prefix}${infer P}/${infer _}`
  ? `${Prefix}${RouteFragmentParam&lt;P&gt;}` | RouteFragment&lt;T, `${Prefix}${P}/`&gt;
  : T
 
type RouteFragmentParam&lt;T extends string&gt; = T extends `:${infer E}(${infer U})`
  ? EntityRouteParam&lt;U&gt;
  : T extends `:${infer E}(${infer U})?`
  ? EntityRouteParam&lt;U&gt;
  : T
</code></pre>
<p>And obviously now we need a factory to produce our path builder:</p>
<pre><code class="language-ts">function fragmentedRouteBuilderFactory&lt;T extends string&gt;() {
  return &lt;K extends RouteFragment&lt;T&gt;&gt;(route: K, routeParams: RouteParamCollection&lt;K&gt;): string =&gt; {
    return routeBuilder(route, routeParams as any)
  }
}
const fragmentRouteBuilder = fragmentedRouteBuilderFactory&lt;"/user/:userId/:item(post|article)/:id/:action(view|edit)"&gt;();
fragmentRouteBuilder('/user/:userId/:item(post|article)/:id', { userId: 21, item: 'article', id: 12 });
</code></pre>
<p>Doesn't look that difficult now, does it? :)</p>
<p>Oh, you can also check it out in the <a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAggNnA9gdwgEwAoEMBOWC2AKuBAM5QC8UpwOAlgHYDmUAPlAwK74BGEObKD0SI4ELAwDcAKGmhIUAKINgdUACVEnYBGx58AHkJQIADx0M05GvWYA+StKhQA9ACo3UOgDMoqEwwAxloq-FBYUABuWHCc0MhqABbhUJwMdIgMUG4uTlDGZhZWUAAGACQA3ozeYQBqAL6sldVh6vUlee5+0Ex4PF7A4ZZQOBCBnDikdJEQcCDhYGBzUMCJ0PLriCtrI2SDOXkA-FC1gsqqGlo6egQG6nadHkNoUGuj3a9YM9vQcFg0URicS8WVW0DSGSygUSWEY2VyzgAXPkZHkNlBNNpdLhbgVzBBLNZaIwmA4KI9PD4PgTgmkdAIJAELvMDs48UVyOUqgwagJFPUABTNHlhACq9QAlB1nO5PP5gFgANbQNTkaKxMgg1LpTLwo5QCpQADaiq1igAusjzmoQJjrjjDKKHPUKV5fGoAOTkRmIMCqTIxJk2vVI-ImfGE0rC3lKeqHaWuJ7+fBKlXANVAzW+-0MQP-boIENQY56VQxAyGk1my2wBAodA3Igkcj1B4yp5wwL-NNeqD4fizeYRMAOgA0HzEgwkQ7ryCwPDEKxIReRldNcMINfgSFQmAdxEgLdRznRdux+gAwqIxIEc0ZwxzqMT7I5254aSF6VBs5DAyP9BAX6smGhQEsUJQuIi0ZhBgcYuNBAhtAmspQCOpDkGoKxbP+BBLgoEgvKM4yTNMg4LEs8zEaMKh4RAeTZCeWzIDCwC9mI3j7AixZQKWdDlmejYGBgdgOAAZBiVzngQV4IGMd4QZUSFtomnikAQ0A0Jw3jeOOPDaH4aygjsOH4F45A-gGcAriBEbgZBCE8fU8HcjGSH6gJDpCWJElYo2Mk3vJzlKa6-gfnSYQ0FgqiBE+thMOODCIFOqEOuEU6FsByLsmBnLOS0AgAPpOQ5blvuRyxUQSgzokRExTDMyzAFsYK7ACwHHB5l7XnJkIGApFTBWVfwAl2pAQOOzEEil+hmVqLVgd+vgtRMVmZTZj4QVBLkwe07mSYJwmumkiqJcgULduOpCJFocAvAwEAzAIMKLFNowxMsa3HadUiyM43hpLekIjJJABCnB0Ld-AGAA0g+OWxSSdgCjgknItD44o75DqkMinXSd1gOZDDdgSsiNgkgaeSjMAExZEwBL8FF2KrMjkkY-t2PhN6DAgBK0gupjOhgxDaD8AKHouJwY04JBUv8AAkmgkFqBA+ACmAiA0KwuDRWIEouB646Gir+DIh6Ot0IEYiG6k0uK8iABMUCSjILguFAAB6fgQ1Z9NTswODzFSHomx6uyBBApHWIg-arBTsxjdsjIehrNBh4gAjmzgusQB6sinpJABieBMP2Kj3qBkbk8w44YKM3h0KYcNV8+LBUAARC47dkut8NcnXEAN6Y9QObBeUioVu3OMc-f143I8DUXJdl8AB12O0ghnsXWCl1VRjjrPg-z5UY8lMpWVOHIy5b8vVWCdlLdxT3D-gVt+WxkK20COKUr6talxY30AYJ0eQsrN1fg5fkn934-3jH-FQNo8aOnPvkX6UB-pBBzOg2+oQ0BnmFpDHAhcsC3gziACutkiRPwFBKSmzhqa0ygDDcB5Ab47xXkYESrMsRo3ZoAggOMfL2i6rJQmDBiakwRswSgDgKj0V2DTHAWRBYQAIaLHA3CdB8OEQIrmQxeZ5BdC6YIDAATeBwcAfB4NCGUGwewqq6ArEi34MQ0hgcDCdzljLREXjFbKx0GrVOwBtbZ0tnrZWStEQkJzAKSIdAIDIFYOgNQEpu40JkOY+xKgnGEPFpLaWss7aRJNurTWwSLZWwgPrREdA0A20NL4tAjsACM44TZmwqdbNpTSoDNKdi7IAA">typescript playground</a>.</p>
</markdown><!----></section></div><!----></section></main></div>
  <link rel="modulepreload" href="chunk-76TOWMZK.js"><script src="polyfills-UD7OJCHV.js" type="module"></script><script src="scripts-MI2AUGIN.js" defer></script><script src="main-PXGKGM4N.js" type="module"></script>

<script id="ng-state" type="application/json">{"341425767":{"b":[{"metadata":{"name":"Create a Custom eslint Rule with Typescript","series":null,"date":"2021-04-02","lastModifiedDate":"2021-07-11","author":"Volodymyr Yepishev","tags":["typescript","tutorial","eslint","npm"],"canonicalLink":"https://dev.to/bwca/create-a-custom-eslint-rule-with-typescript-4j3d"},"path":"2021-04-02-create-a-custom-eslint-rule-with-typescript.md"},{"metadata":{"name":"Create Object Property String Path Generator with Typescript","series":null,"date":"2021-04-13","lastModifiedDate":"2021-04-13","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular","react"],"canonicalLink":"https://dev.to/bwca/create-object-property-string-path-generator-with-typescript-13e3"},"path":"2021-04-13-create-object-property-string-path-generator-with-typescript/2021-04-13-create-object-property-string-path-generator-with-typescript.md"},{"metadata":{"name":"Build Entity-Friendly react-router Paths Generator with Typescript","series":null,"date":"2021-05-12","lastModifiedDate":"2021-05-12","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/build-entity-friendly-react-router-paths-generator-with-typescript-fpd"},"path":"2021-05-12-build-entity-friendly-react-router-path-generator-with-typescript.md"},{"metadata":{"name":"Split Collection Based on Enum Value with Typescript","series":null,"date":"2021-06-28","lastModifiedDate":"2021-06-28","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/split-collection-based-on-enum-value-with-typescript-4g3b"},"path":"2021-06-28-split-collection-based-on-enum-values/2021-06-28-split-collection-based-on-enum-values.md"},{"metadata":{"name":"Make Your Own Linkedin Promoted Posts Blocker","series":null,"date":"2021-07-14","lastModifiedDate":"2021-07-14","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/make-your-own-linkedin-promoted-posts-blocker-fj5"},"path":"2021-07-14-make-you-own-linkedin-promoted-posts-blocker.md"},{"metadata":{"name":"How I Decided to Write React cli and How it Went","series":null,"date":"2021-08-08","lastModifiedDate":"2021-08-08","author":"Volodymyr Yepishev","tags":["angular"],"canonicalLink":"https://dev.to/bwca/how-i-decided-to-write-react-cli-and-how-it-went-4f19"},"path":"2021-08-08-how-i-decided-to-write-react-cli-and-how-it-went/2021-08-08-how-i-decided-to-write-react-cli-and-how-it-went.md"},{"metadata":{"name":"Remove Double Imports with Regular Expression","series":null,"date":"2022-03-29","lastModifiedDate":"2022-03-29","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/remove-double-imports-with-regular-expression-47af"},"path":"2022-03-29-remove-double-imports-with-regular-expression.md"},{"metadata":{"name":"Decorating React Hook with Typescript","series":null,"date":"2022-04-12","lastModifiedDate":"2022-04-12","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/decorating-react-hook-with-typescript-bd9"},"path":"2022-04-12-decorating-react-hook-with-typescript.md"},{"metadata":{"name":"Override Method Return with a Decorator","series":null,"date":"2022-04-22","lastModifiedDate":"2022-04-22","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/override-method-return-with-a-decorator-1bii"},"path":"2022-04-22-change-api-response-with-a-decorator.md"},{"metadata":{"name":"Turn Angular Application into Chrome Extension","series":null,"date":"2022-05-25","lastModifiedDate":"2022-05-25","author":"Volodymyr Yepishev","tags":["angular","tutorial","chrome","extension"],"canonicalLink":"https://dev.to/bwca/turn-angular-application-into-chrome-extension-2mkn"},"path":"2022-05-25-turn-angular-application-into-chrome-extension.md"},{"metadata":{"name":"Typed Dates Conversion with Typescript","series":null,"date":"2022-06-30","lastModifiedDate":"2022-06-30","author":"Volodymyr Yepishev","tags":["typescript","tutorial","generics","conversion","date","moment"],"canonicalLink":"https://dev.to/bwca/typed-dates-conversion-with-typescript-49n7"},"path":"2022-06-30-typed-date-conversion-with-typescript.md"},{"metadata":{"name":"Weekday - Date - Month type","series":null,"date":"2022-07-29","lastModifiedDate":"2022-07-29","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/weekday-date-month-type-26j4"},"path":"2022-07-29-week-day-date-month-type.md"},{"metadata":{"name":"An Alternative Way of Creating Enumerations in Typescript","series":null,"date":"2022-08-03","lastModifiedDate":"2022-08-03","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/an-alternative-way-of-creating-enumerations-in-typescript-579k"},"path":"2022-08-03-an-alternative-way-of-creating-enumerations-in-typescript.md"},{"metadata":{"name":"Create a Static Class in Typescript","series":null,"date":"2022-08-12","lastModifiedDate":"2022-08-12","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/create-a-static-class-in-typescript-5ao1"},"path":"2022-08-12-create-static-class-in-typescript.md"},{"metadata":{"name":"Typescript Class Mixins","series":null,"date":"2022-08-20","lastModifiedDate":"2022-08-20","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/typescript-class-mixins-3hib"},"path":"2022-08-20-typescript-class-mixins.md"},{"metadata":{"name":"Using Classes Inside React's Functional Components","series":null,"date":"2022-08-22","lastModifiedDate":"2022-08-22","author":"Volodymyr Yepishev","tags":["typescript","react","tutorial"],"canonicalLink":"https://dev.to/bwca/using-classes-inside-reacts-functional-components-oj3"},"path":"2022-08-22-using-classes-inside-react-functional-component.md"},{"metadata":{"name":"Debouncing Component Methods in Angular","series":null,"date":"2022-08-29","lastModifiedDate":"2022-08-29","author":"Volodymyr Yepishev","tags":["typescript","angular","tutorial"],"canonicalLink":"https://dev.to/bwca/debouncing-component-methods-in-angular-34im"},"path":"2022-08-29-debouncing-component-methods-in-angular.md"},{"metadata":{"name":"A Trick to Further Breaking Down Angular Components","series":null,"date":"2022-09-02","lastModifiedDate":"2022-09-02","author":"Volodymyr Yepishev","tags":["typescript","angular"],"canonicalLink":"https://dev.to/bwca/a-trick-to-further-breaking-down-angular-components-1i8a"},"path":"2022-09-02-a-trick-to-further-breaking-angular-components.md"},{"metadata":{"name":"Typed Enum Flipping in Typescript","series":null,"date":"2022-11-09","lastModifiedDate":"2022-11-09","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/typed-enum-flipping-in-typescript-2ce9"},"path":"2022-11-09-typed-enum-flipping-in-typescript.md"},{"metadata":{"name":"Typed Filtering with Generics in Typescript","series":null,"date":"2022-12-01","lastModifiedDate":"2022-12-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial","generics"],"canonicalLink":"https://dev.to/bwca/typed-filtering-with-generics-in-typescript-204f"},"path":"2022-12-01-typed-filtering-with-generics.md"},{"metadata":{"name":"Template Driving Reactive Form Validation in Angular","series":null,"date":"2023-05-15","lastModifiedDate":"2023-05-15","author":"Volodymyr Yepishev","tags":["angular"],"canonicalLink":"https://dev.to/bwca/template-driving-reactive-form-validation-in-angular-302e"},"path":"2023-05-15-template-driving-reactive-form-validation/2023-05-15-template-driving-reactive-form-validation-in-angular.md"},{"metadata":{"name":"Detect Invalid FormGroup Tree in Angular","series":null,"date":"2023-05-17","lastModifiedDate":"2023-05-17","author":"Volodymyr Yepishev","tags":["angular","debugger"],"canonicalLink":"https://dev.to/bwca/detect-invalid-formgroup-tree-in-angular-1ed"},"path":"2023-05-17-detect-invalid-form-group-tree-in-angular/2023-05-17-detect-invalid-form-group-tree-in-angular.md"},{"metadata":{"name":"Safe Route Param Injection in Angular with a Decorator","series":null,"date":"2023-07-22","lastModifiedDate":"2023-07-28","author":"Volodymyr Yepishev","tags":["angular","tutorial","routing","generics"],"canonicalLink":"https://dev.to/bwca/safe-route-param-injection-in-angular-with-a-decorator-1lk7"},"path":"2023-07-22-safe-route-param-injection-in-angular-with-a-decorator.md"},{"metadata":{"name":"Deep Readonly Generic in Typescript","series":null,"date":"2023-09-16","lastModifiedDate":"2024-06-26","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/deep-readonly-generic-in-typescript-4b04"},"path":"2023-09-16-deep-readonly-generic-in-typescript.md"},{"metadata":{"name":"Typing Object Keys With Enum Values Using Typescript","series":null,"date":"2023-11-01","lastModifiedDate":"2023-11-01","author":"Volodymyr Yepishev","tags":["typescript","generics","tutorial"],"canonicalLink":"https://dev.to/bwca/typing-object-keys-with-enum-values-using-typescript-4k23"},"path":"2023-11-01-typing-object-keys-with-enum-values-using-typescript.md"},{"metadata":{"name":"How to Create Bookmarklets Using External Libraries like React","series":null,"date":"2024-03-13","lastModifiedDate":"2024-03-13","author":"Volodymyr Yepishev","tags":["javascript","tutorial"],"canonicalLink":"https://dev.to/bwca/how-to-create-bookmarklets-using-libraries-like-react-2bhc"},"path":"2024-03-13-how-to-create-bookmarklets-using-external-libraries-like-react/2024-03-13-how-to-create-bookmarklets-using-external-libraries-like-react.md"},{"metadata":{"name":"Annoying Cat Extension","series":null,"date":"2024-03-29","lastModifiedDate":"2024-03-29","author":"Volodymyr Yepishev","tags":["javascript","tutorial"],"canonicalLink":"https://dev.to/bwca/annoying-cat-extension-4eaf"},"path":"2024-03-29-writing-annoying-image-browser-extension/2024-03-29-writing-annoying-image-browser-extension.md"},{"metadata":{"name":"Improving Dynamic Component Loader Typings in Angular Using Inputs","series":null,"date":"2024-04-15","lastModifiedDate":"2024-04-15","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular","generics"],"canonicalLink":"https://dev.to/bwca/improving-dynamic-component-loader-typings-in-angular-using-inputs-obl"},"path":"2024-04-15-improving-dynamic-component-loader-typings-in-angular-using-inputs/2024-04-15-improving-dynamic-component-loader-typings-in-angular-using-inputs.md"},{"metadata":{"name":"Reducing the Boilerplate for Services Utilizing Subjects in Angular","series":null,"date":"2024-05-06","lastModifiedDate":"2024-05-06","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular","rxjs"],"canonicalLink":"https://dev.to/bwca/reducing-the-boilerplate-for-services-utilizing-subjects-in-angular-44fp"},"path":"2024-05-06-reducing-the-boilerplate-for-stateful-services-in-angular/2024-05-06-reducing-the-boilerplate-for-stateful-services-in-angular.md"},{"metadata":{"name":"Crafting a Global State Hook in React","series":null,"date":"2024-05-18","lastModifiedDate":"2024-05-18","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react","state"],"canonicalLink":"https://dev.to/bwca/crafting-a-global-state-hook-in-react-4hb4"},"path":"2024-05-18-crafting-a-global-state-hook-in-react/2024-05-18-crafting-a-global-state-hook-in-react.md"},{"metadata":{"name":"Abstracting State Management in React with Typescript, and its Benefits","series":null,"date":"2024-06-03","lastModifiedDate":"2024-06-03","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular"],"canonicalLink":"https://dev.to/bwca/abstracting-state-management-in-react-with-typescript-and-its-benefits-8mk"},"path":"2024-06-03-abstracting-state-management-in-react-and-its-benefits/2024-06-03-abstracting-state-management-in-react-and-its-benefits.md"},{"metadata":{"name":"Runtime Environment Config in Angular, but without Dependency Injection","series":null,"date":"2024-06-08","lastModifiedDate":"2024-06-08","author":"Volodymyr Yepishev","tags":["typescript","tutorial","angular"],"canonicalLink":"https://dev.to/bwca/runtime-environment-config-in-angular-but-without-dependency-injection-kno"},"path":"2024-06-08-runtime-environment-config-in-angular-but-without-dependency-injection/2024-06-08-runtime-environment-config-in-angular-but-without-dependency-injection.md"},{"metadata":{"name":"Create a Debounce Function from Scratch in Typescript","series":{"name":"Implementing Debounce with Typescript","part":0},"date":"2021-08-26","lastModifiedDate":"2022-04-07","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/create-a-debounce-function-from-scratch-in-typescript-560m"},"path":"create-a-debounce-function-from-scratch-in-typescript/2021-08-26-part-0-create-a-debounce-function-from-scratch-in-typescript.md"},{"metadata":{"name":"Polish Types for the New Debounce Function","series":{"name":"Implementing Debounce with Typescript","part":1},"date":"2022-04-06","lastModifiedDate":"2022-04-06","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/polish-types-for-the-new-debounce-function-5e0n"},"path":"create-a-debounce-function-from-scratch-in-typescript/2022-04-06-part-1-polish-types-for-the-new-debounce-function.md"},{"metadata":{"name":"Caching Decorator","series":{"name":"Decorator Memoization","part":0},"date":"2022-06-06","lastModifiedDate":"2024-06-26","author":"Volodymyr Yepishev","tags":["typescript","tutorial","decorators"],"canonicalLink":"https://dev.to/bwca/caching-decorator-52e1"},"path":"decorator-memoization/2022-06-06-part-0-caching-decorator.md"},{"metadata":{"name":"Memoize Decorator","series":{"name":"Decorator Memoization","part":1},"date":"2022-07-12","lastModifiedDate":"2022-07-12","author":"Volodymyr Yepishev","tags":["typescript","tutorial","decorators"],"canonicalLink":"https://dev.to/bwca/memoize-decorator-5aoo"},"path":"decorator-memoization/2022-07-12-part-1-memoize-decorator.md"},{"metadata":{"name":"Implementing React Check Permissions. Part 0: Intro","series":{"name":"Implementing React Check Permissions","part":0},"date":"2021-10-29","lastModifiedDate":"2021-10-30","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/implementing-reach-check-permissions-part-0-intro-1inc"},"path":"impementing-react-check-permission/2021-10-29-part-0-intro.md"},{"metadata":{"name":"Implementing React Check Permissions. Part 1: Check Permissions Function","series":{"name":"Implementing React Check Permissions","part":1},"date":"2021-10-30","lastModifiedDate":"2021-10-30","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/implementing-reach-check-permissions-part-1-check-permissions-function-136l"},"path":"impementing-react-check-permission/2021-10-30-part-1-check-permissions-function.md"},{"metadata":{"name":"Implementing React Check Permissions. Part 2: Check Permissions Hook","series":{"name":"Implementing React Check Permissions","part":2},"date":"2021-11-01","lastModifiedDate":"2021-11-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/implementing-react-check-permissions-the-hook-3m20"},"path":"impementing-react-check-permission/2021-11-01-part-2-use-check-permissions.md"},{"metadata":{"name":"Implementing React Check Permissions. Part 3: with Permissions Component","series":{"name":"Implementing React Check Permissions","part":3},"date":"2021-11-04","lastModifiedDate":"2021-11-04","author":"Volodymyr Yepishev","tags":["typescript","tutorial","react"],"canonicalLink":"https://dev.to/bwca/implementing-react-check-permissions-the-component-3gjm"},"path":"impementing-react-check-permission/2021-11-04-part-3-with-permissions-component.md"},{"metadata":{"name":"Iframe Microfrontends: Intro and Setup","series":{"name":"Iframe Microfrontends","part":0},"date":"2022-05-30","lastModifiedDate":"2022-05-30","author":"Volodymyr Yepishev","tags":["typescript","tutorial","microfrontends","react","angular"],"canonicalLink":"https://dev.to/bwca/iframe-microfrontends-intro-and-setup-1g7h"},"path":"implement-iframe-microfrontend/2022-05-30-part-0-intro-and-setup.md"},{"metadata":{"name":"Iframe Microfrontends: Standalone React Application","series":{"name":"Iframe Microfrontends","part":1},"date":"2022-05-31","lastModifiedDate":"2022-05-31","author":"Volodymyr Yepishev","tags":["typescript","tutorial","microfrontends","react","angular"],"canonicalLink":"https://dev.to/bwca/iframe-microfrontends-standalone-react-application-341f"},"path":"implement-iframe-microfrontend/2022-05-31-part-1-standalone-react-application.md"},{"metadata":{"name":"Iframe Microfrontends: Angular Shell","series":{"name":"Iframe Microfrontends","part":2},"date":"2022-05-31","lastModifiedDate":"2022-05-31","author":"Volodymyr Yepishev","tags":["typescript","tutorial","microfrontends","react","angular"],"canonicalLink":"https://dev.to/bwca/iframe-microfrontends-angular-shell-pmj"},"path":"implement-iframe-microfrontend/2022-05-31-part-2-angular-shell-application.md"},{"metadata":{"name":"Iframe Microfrontends: Make React App Proper Iframe","series":{"name":"Iframe Microfrontends","part":3},"date":"2022-06-01","lastModifiedDate":"2022-06-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial","microfrontends","react","angular"],"canonicalLink":"https://dev.to/bwca/iframe-microfrontends-make-react-app-proper-iframe-12g9"},"path":"implement-iframe-microfrontend/2022-06-01-part-3-make-react-app-proper-iframe.md"},{"metadata":{"name":"Create Singleton with ES2022","series":{"name":"Singleton","part":1},"date":"2022-06-25","lastModifiedDate":"2022-07-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial","javascript"],"canonicalLink":"https://dev.to/bwca/create-singleton-with-es2022-51ic"},"path":"singleton/2022-06-25-part-1-create-singleton-with-es2022.md"},{"metadata":{"name":"Singleton Decorator","series":{"name":"Singleton","part":0},"date":"2022-07-01","lastModifiedDate":"2022-07-01","author":"Volodymyr Yepishev","tags":["typescript","tutorial"],"canonicalLink":"https://dev.to/bwca/singleton-decorator-526h"},"path":"singleton/2022-07-01-part-0-singleton-decorator.md"}],"h":{},"s":200,"st":"OK","u":"./articles/index.json","rt":"json"},"2043529096":{"b":"```ic-metadata\r\n{\r\n  \"name\": \"Build Entity-Friendly react-router Paths Generator with Typescript\",\r\n  \"series\": null,\r\n  \"date\": \"2021-05-12\",\r\n  \"lastModifiedDate\": \"2021-05-12\",\r\n  \"author\": \"Volodymyr Yepishev\",\r\n  \"tags\": [\"typescript\", \"tutorial\", \"react\"],\r\n  \"canonicalLink\": \"https://dev.to/bwca/build-entity-friendly-react-router-paths-generator-with-typescript-fpd\"\r\n}\r\n```\r\n\r\n# Build Entity-Friendly react-router Paths Generator with Typescript\r\n\r\nSo the other day I was thinking if it is possible to create a route generator that would be of any use and would respect entities in URLS, i.e. `:entity(post|article)`.\r\n\r\nNaturally, `react-router` provides means of generating paths, the `generatePath` function, and while the `@types/react-router` types package does pretty decent job securing the param names, as of yet, it leaves entities vulnerable, without any kind of restrictions, they are treated same as any other param, meaning you can drop `string | number | boolean` into them.\r\n\r\nLet's fix that with typescript's 4+ template literal types and generics.\r\n\r\nFirst of all let's figure out what types we want to be allowed to be passed to our parameters. We could go with `string` in `string` out attitude, since when we extract params they are strings, but for the sake of compatibility and tribute to the original `@types/react-router` let's go with union `string | number | boolean`:\r\n\r\n```ts\r\ntype AllowedParamTypes = string | number | boolean;\r\n```\r\n\r\nThat's a nice start. Now, we need a type that would represent our union of values for entities, into which we will be dropping all possible values for our entity and recursively adding them to the union:\r\n\r\n```ts\r\ntype EntityRouteParam\u003CT extends string> =\r\n  /** if we encounter a value with a union */\r\n  T extends `${infer V}|${infer R}`\r\n  /* we grab it and recursively apply the type to the rest */\r\n  ? V | EntityRouteParam\u003CR>\r\n  /** and here we have the last value in the union chain */\r\n  : T;\r\n```\r\n\r\nNow we need a param type that can be either an entity which is limited to a union of values, or just a regular param, which is simply an allowed type:\r\n\r\n```ts\r\ntype RouteParam\u003CT extends string> =\r\n  /** if we encounter an entity */\r\n  T extends `${infer E}(${infer U})`\r\n  /** we take its values in union */\r\n  ? { [k in E]: EntityRouteParam\u003CU> }\r\n  /** if it's an optional entity */\r\n  : T extends `${infer E}?`\r\n  /** we make its values optional as well */\r\n  ? Partial\u003C{ [k in E]: AllowedParamTypes }>\r\n  /** in case it's merely a param, we let any allowable type */\r\n  : { [k in T]: AllowedParamTypes };\r\n```\r\n\r\nNow to craft a generic that can break down an url into fragments and extract an interface of params:\r\n\r\n```ts\r\ntype RouteParamCollection\u003CT extends string> =\r\n  /** encounter optional parameter */\r\n  T extends `/:${infer P}?/${infer R}`\r\n  /** pass it to param type and recursively apply current type\r\n   *  to what's left */\r\n  ? Partial\u003CRouteParam\u003CP>> & RouteParamCollection\u003C`/${R}`>\r\n  /** same stuff, but when the param is optional */\r\n  : T extends `/:${infer P}/${infer R}`\r\n  ? RouteParam\u003CP> & RouteParamCollection\u003C`/${R}`>\r\n  /** we encounter static string, not a param at all */\r\n  : T extends `/${infer _}/${infer R}`\r\n  /** apply current type recursively to the rest */\r\n  ? RouteParamCollection\u003C`/${R}`>\r\n  /** last case, when param is in the end of the url */\r\n  : T extends `/:${infer P}`\r\n  ? RouteParam\u003CP>\r\n  /** unknown case, should never happen really */\r\n  : unknown;\r\n```\r\n\r\nThat's basically all the magic we need. Now all that's needed is to create a couple of wrapper functions that would provide us with more type safety and run `generatePath` from `react-router` inside under their hoods.\r\n\r\nA function for path generation with param and entity hints is pretty simple and you can even use enums with it:\r\n\r\n```ts\r\nfunction routeBuilder\u003CK extends string>(route: K, routeParams: RouteParamCollection\u003CK>): string {\r\n  return generatePath(route, routeParams as any)\r\n}\r\nrouteBuilder('/user/:userId/:item(post|article)/', { item: 'article', userId: 2 });\r\n// ^ will get angry if 'item' receives something else than 'post' or 'article'\r\n```\r\n\r\nNow we can come up with even more advanced function that could generate route fragments of even longer route, and provide same type safety.\r\n\r\nIn order to craft such function we first need to make a couple of types for crafting path fragments of a given route, respecting the params in it:\r\n\r\n```ts\r\ntype RouteFragment\u003CT extends string, Prefix extends string = \"/\"> = T extends `${Prefix}${infer P}/${infer _}`\r\n  ? `${Prefix}${RouteFragmentParam\u003CP>}` | RouteFragment\u003CT, `${Prefix}${P}/`>\r\n  : T\r\n \r\ntype RouteFragmentParam\u003CT extends string> = T extends `:${infer E}(${infer U})`\r\n  ? EntityRouteParam\u003CU>\r\n  : T extends `:${infer E}(${infer U})?`\r\n  ? EntityRouteParam\u003CU>\r\n  : T\r\n```\r\n\r\nAnd obviously now we need a factory to produce our path builder:\r\n\r\n```ts\r\nfunction fragmentedRouteBuilderFactory\u003CT extends string>() {\r\n  return \u003CK extends RouteFragment\u003CT>>(route: K, routeParams: RouteParamCollection\u003CK>): string => {\r\n    return routeBuilder(route, routeParams as any)\r\n  }\r\n}\r\nconst fragmentRouteBuilder = fragmentedRouteBuilderFactory\u003C\"/user/:userId/:item(post|article)/:id/:action(view|edit)\">();\r\nfragmentRouteBuilder('/user/:userId/:item(post|article)/:id', { userId: 21, item: 'article', id: 12 });\r\n```\r\n\r\nDoesn't look that difficult now, does it? :)\r\n\r\nOh, you can also check it out in the [typescript playground](https://www.typescriptlang.org/play?#code/C4TwDgpgBAggNnA9gdwgEwAoEMBOWC2AKuBAM5QC8UpwOAlgHYDmUAPlAwK74BGEObKD0SI4ELAwDcAKGmhIUAKINgdUACVEnYBGx58AHkJQIADx0M05GvWYA+StKhQA9ACo3UOgDMoqEwwAxloq-FBYUABuWHCc0MhqABbhUJwMdIgMUG4uTlDGZhZWUAAGACQA3ozeYQBqAL6sldVh6vUlee5+0Ex4PF7A4ZZQOBCBnDikdJEQcCDhYGBzUMCJ0PLriCtrI2SDOXkA-FC1gsqqGlo6egQG6nadHkNoUGuj3a9YM9vQcFg0URicS8WVW0DSGSygUSWEY2VyzgAXPkZHkNlBNNpdLhbgVzBBLNZaIwmA4KI9PD4PgTgmkdAIJAELvMDs48UVyOUqgwagJFPUABTNHlhACq9QAlB1nO5PP5gFgANbQNTkaKxMgg1LpTLwo5QCpQADaiq1igAusjzmoQJjrjjDKKHPUKV5fGoAOTkRmIMCqTIxJk2vVI-ImfGE0rC3lKeqHaWuJ7+fBKlXANVAzW+-0MQP-boIENQY56VQxAyGk1my2wBAodA3Igkcj1B4yp5wwL-NNeqD4fizeYRMAOgA0HzEgwkQ7ryCwPDEKxIReRldNcMINfgSFQmAdxEgLdRznRdux+gAwqIxIEc0ZwxzqMT7I5254aSF6VBs5DAyP9BAX6smGhQEsUJQuIi0ZhBgcYuNBAhtAmspQCOpDkGoKxbP+BBLgoEgvKM4yTNMg4LEs8zEaMKh4RAeTZCeWzIDCwC9mI3j7AixZQKWdDlmejYGBgdgOAAZBiVzngQV4IGMd4QZUSFtomnikAQ0A0Jw3jeOOPDaH4aygjsOH4F45A-gGcAriBEbgZBCE8fU8HcjGSH6gJDpCWJElYo2Mk3vJzlKa6-gfnSYQ0FgqiBE+thMOODCIFOqEOuEU6FsByLsmBnLOS0AgAPpOQ5blvuRyxUQSgzokRExTDMyzAFsYK7ACwHHB5l7XnJkIGApFTBWVfwAl2pAQOOzEEil+hmVqLVgd+vgtRMVmZTZj4QVBLkwe07mSYJwmumkiqJcgULduOpCJFocAvAwEAzAIMKLFNowxMsa3HadUiyM43hpLekIjJJABCnB0Ld-AGAA0g+OWxSSdgCjgknItD44o75DqkMinXSd1gOZDDdgSsiNgkgaeSjMAExZEwBL8FF2KrMjkkY-t2PhN6DAgBK0gupjOhgxDaD8AKHouJwY04JBUv8AAkmgkFqBA+ACmAiA0KwuDRWIEouB646Gir+DIh6Ot0IEYiG6k0uK8iABMUCSjILguFAAB6fgQ1Z9NTswODzFSHomx6uyBBApHWIg-arBTsxjdsjIehrNBh4gAjmzgusQB6sinpJABieBMP2Kj3qBkbk8w44YKM3h0KYcNV8+LBUAARC47dkut8NcnXEAN6Y9QObBeUioVu3OMc-f143I8DUXJdl8AB12O0ghnsXWCl1VRjjrPg-z5UY8lMpWVOHIy5b8vVWCdlLdxT3D-gVt+WxkK20COKUr6talxY30AYJ0eQsrN1fg5fkn934-3jH-FQNo8aOnPvkX6UB-pBBzOg2+oQ0BnmFpDHAhcsC3gziACutkiRPwFBKSmzhqa0ygDDcB5Ab47xXkYESrMsRo3ZoAggOMfL2i6rJQmDBiakwRswSgDgKj0V2DTHAWRBYQAIaLHA3CdB8OEQIrmQxeZ5BdC6YIDAATeBwcAfB4NCGUGwewqq6ArEi34MQ0hgcDCdzljLREXjFbKx0GrVOwBtbZ0tnrZWStEQkJzAKSIdAIDIFYOgNQEpu40JkOY+xKgnGEPFpLaWss7aRJNurTWwSLZWwgPrREdA0A20NL4tAjsACM44TZmwqdbNpTSoDNKdi7IAA).\r\n","h":{},"s":200,"st":"OK","u":"./articles/2021-05-12-build-entity-friendly-react-router-path-generator-with-typescript.md","rt":"text"},"__nghData__":[{},{"t":{"1":"t0"},"c":{"1":[{"i":"t0","r":3,"t":{"0":"t1","1":"t2"},"c":{"0":[],"1":[{"i":"t2","r":1}]},"x":2}]}},{"e":{"1":4},"t":{"2":"t6","3":"t7"},"c":{"2":[{"i":"t6","r":2,"e":{"0":1}}],"3":[]}},{"t":{"3":"t8"},"c":{"3":[]}},{"c":{"0":[]}},{"t":{"0":"t3","2":"t4","9":"t9"},"c":{"0":[{"i":"t4","r":2,"t":{"0":"t5"},"c":{"0":[{"i":"t5","r":1}]}}],"2":[],"9":[]},"n":{"6":"5f2"},"d":[8]},{"c":{"6":[{"i":"c2428032693","r":1}]}}]}</script></body></html>